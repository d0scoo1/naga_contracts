{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.18;\r\n\r\ncontract ownerOnly {\r\n    \r\n    function ownerOnly() public { owner = msg.sender; }\r\n    address owner;\r\n\r\n    modifier onlyOwner {\r\n        require(msg.sender == owner);\r\n        _;\r\n    }\r\n}\r\n\r\ncontract Game is ownerOnly {\r\n    \r\n    //\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u043a\u043e\u0440\u043e\u0432\u044b\r\n    uint cow_code;\r\n    \r\n    struct cows {\r\n        uint cow;\r\n        uint date_buy;\r\n        bool cow_live;\r\n        uint milk;\r\n        uint date_milk;\r\n    } \r\n    \r\n    //\u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0440\u043e\u0432 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\r\n    mapping (address => uint) users_cows;\r\n    //\u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u043a\u043e\u0440\u043e\u0432\u044b \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\r\n    mapping (bytes32 => cows) user;\r\n    //\u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u0442\u0435\u043b\u0435\u0433\u0438\r\n    mapping (address => bool) telega;\r\n    //\u0410\u0434\u0440\u0435\u0441 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 rico\r\n    address rico;\r\n    \r\n    //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u043e\u0432\u0430 \u0434\u0430\u0435\u0442 \u043c\u043e\u043b\u043e\u043a\u0430 \u0437\u0430 \u043e\u0434\u043d\u0443 \u0434\u043e\u0439\u043a\u0443\r\n    uint volume_milk;\r\n    //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u0435\u0436\u0434\u0443 \u0434\u043e\u0435\u043d\u0438\u044f\u043c\u0438\r\n    uint time_to_milk;\r\n    //\u0432\u0440\u0435\u043c\u043c\u044f \u0436\u0438\u0437\u043d\u0438 \u043a\u043e\u0440\u043e\u0432\u044b\r\n    uint time_to_live;   \r\n        \r\n    //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442 \u043c\u043e\u043b\u043e\u043a\u043e \u0432 \u0432\u0435\u044f\u0445 \u0432 \u0440\u043e\u0437\u043d\u0438\u0446\u0443\r\n    uint milkcost;\r\n    \r\n    //\u0438\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0434\u0432\u0438\u0436\u043a\u0430\r\n    function Game() public {\r\n        \r\n        //\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043a\u043e\u0448\u0435\u043b\u0435\u043a \u0434\u0432\u0438\u0436\u043a\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f\r\n    \trico = 0xb5F60D78F15b73DC2D2083571d0EEa70d35b9D28;\r\n    \t\r\n    \t//\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0441\u0447\u0435\u0442\u0447\u0438\u043a \u043a\u043e\u0440\u043e\u0432\r\n    \tcow_code = 0;\r\n    \t\r\n        //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043b\u0438\u0442\u0440\u043e\u0432 \u0434\u0430\u0435\u0442 \u043a\u043e\u0440\u043e\u0432\u0430 \u043d\u0430 5 \u043c\u0438\u043d\u0443\u0442\r\n        volume_milk = 1;\r\n        //\u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0438\u0442\u044c \u043a\u043e\u0440\u043e\u0432\u0443\r\n        time_to_milk = 60;\r\n        //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434 \u0436\u0438\u0432\u0435\u0442 \u043a\u043e\u0440\u043e\u0432\u0430 - 30 \u043c\u0438\u043d\r\n        time_to_live = 600;  \r\n        \r\n        //\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0438\u0442 \u043f\u0440\u043e\u0434\u0430\u0442\u044c \u043c\u043e\u043b\u043e\u043a\u043e \u0432 \u0440\u043e\u0437\u043d\u0438\u0446\u0443\r\n        milkcost = 0.0013 ether;\r\n    }\r\n    \r\n    function pay() public payable {\r\n        payCow();\r\n    }        \r\n    \r\n    //\u043f\u043e\u043a\u0443\u043f\u0430\u0435\u043c \u043a\u043e\u0440\u043e\u0432 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0434\u0432\u0438\u0436\u043a\u0430\r\n    function payCow() private {\r\n       \r\n        uint time= now;\r\n        uint cows_count = users_cows[msg.sender];\r\n        \r\n        uint index = msg.value/0.01 ether;\r\n        \r\n        for (uint i = 1; i <= index; i++) {\r\n            \r\n            cow_code++;\r\n            cows_count++;\r\n            user[keccak256(msg.sender) & keccak256(i)]=cows(cow_code,time,true,0,time);\r\n        }\r\n        users_cows[msg.sender] = cows_count;\r\n        rico.transfer(0.001 ether);\r\n    }    \r\n    \r\n    //\u0434\u043e\u0438\u043c \u043a\u043e\u0440\u043e\u0432\u0443\r\n    function MilkCow(address gamer) private {\r\n       \r\n        uint time= now;\r\n        uint time_milk;\r\n        \r\n        for (uint i=1; i<=users_cows[gamer]; i++) {\r\n            \r\n            //\u0435\u0441\u043b\u0438 \u043a\u043e\u0440\u043e\u0432\u0430 \u043f\u043e\u043a\u0430 \u0436\u0438\u0432\u0430 \u0442\u043e\u0433\u0434\u0430 \u0434\u043e\u0438\u043c\r\n            if (user[keccak256(gamer) & keccak256(i)].cow_live==true) {\r\n                \r\n                //\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0432\u0440\u0435\u043c\u044f \u0441\u043c\u0435\u0440\u0442\u0438 \u043a\u043e\u0440\u043e\u0432\u044b\r\n                uint datedeadcow=user[keccak256(gamer) & keccak256(i)].date_buy+time_to_live;\r\n               \r\n                //\u0435\u0441\u043b\u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u043c\u0435\u0440\u0442\u0438 \u043a\u043e\u0440\u043e\u0432\u044b \u0443\u0436\u0435 \u043d\u0430\u0441\u0442\u0443\u043f\u0438\u043b\u043e\r\n                if (time>=datedeadcow) {\r\n                    \r\n                    //\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u0435\u043a \u043c\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043b\u0438\r\n                    time_milk=(time-user[keccak256(gamer) & keccak256(i)].date_milk)/time_to_milk;\r\n                    \r\n                    if (time_milk>=1) {\r\n                        //\u043a\u0438\u0434\u0430\u0435\u043c \u043d\u0430 \u0441\u043a\u043b\u0430\u0434 \u043c\u043e\u043b\u043e\u043a\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u044b \u043d\u0430\u0434\u043e\u0438\u043b\u0438 \u0437\u0430 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u0439\u043a\u0438\r\n                        user[keccak256(gamer) & keccak256(i)].milk+=(volume_milk*time_milk);\r\n                        //\u0443\u0431\u0438\u0432\u0430\u0435\u043c \u043a\u043e\u0440\u043e\u0432\u0443\r\n                        user[keccak256(gamer) & keccak256(i)].cow_live=false;\r\n                        //\u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0435\u043d\u0438\u044f\r\n                        user[keccak256(gamer) & keccak256(i)].date_milk+=(time_milk*time_to_milk);\r\n                    }\r\n                    \r\n                } else {\r\n                    \r\n                    time_milk=(time-user[keccak256(gamer) & keccak256(i)].date_milk)/time_to_milk;\r\n                    \r\n                    if (time_milk>=1) {\r\n                        user[keccak256(gamer) & keccak256(i)].milk+=(volume_milk*time_milk);\r\n                        user[keccak256(gamer) & keccak256(i)].date_milk+=(time_milk*time_to_milk);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }    \r\n  \r\n    //\u043f\u0440\u043e\u0434\u0430\u0435\u043c \u043c\u043e\u043b\u043e\u043a\u043e, \u0435\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043e 0 \u0442\u043e\u0433\u0434\u0430 \u0432\u0441\u0435 \u043c\u043e\u043b\u043e\u043a\u043e, \u0438\u043d\u0430\u0447\u0435 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043e\r\n    function saleMilk() public {\r\n        \r\n        //\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u0434\u0435\u043c \u043f\u0440\u043e\u0434\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u043b\u043e\u043a\u0430\r\n        uint milk_to_sale;\r\n        \r\n        //\u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u043b\u043e\u043a\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0442\u0435\u043b\u0435\u0433\u0438 \u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0430\r\n        if (telega[msg.sender]==true) {\r\n            \r\n            MilkCow(msg.sender);\r\n            \r\n            //\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0440\u043e\u0432 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\r\n            uint cows_count = users_cows[msg.sender];            \r\n        \r\n            //\u043e\u0431\u043d\u0443\u043b\u044f\u0435\u043c \u0432\u0441\u0435 \u043c\u043e\u043b\u043e\u043a\u043e \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443\r\n            milk_to_sale=0;\r\n\r\n            for (uint i=1; i<=cows_count; i++) {\r\n\r\n                milk_to_sale += user[keccak256(msg.sender) & keccak256(i)].milk;\r\n                //\u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0438\u0437 \u0430\u043d\u043a\u0435\u0442\u044b \u0432\u0441\u0435 \u043c\u043e\u043b\u043e\u043a\u043e\r\n                user[keccak256(msg.sender) & keccak256(i)].milk = 0;\r\n            }\r\n            //\u043e\u0442\u0441\u044b\u043b\u0430\u0435\u043c \u044d\u0444\u0438\u0440 \u0437\u0430 \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u043e\u0435 \u043c\u043e\u043b\u043e\u043a\u043e\r\n            uint a=milkcost*milk_to_sale;\r\n            msg.sender.transfer(milkcost*milk_to_sale);\r\n        }            \r\n    }\r\n            \r\n    //\u043f\u0440\u043e\u0434\u0430\u0435\u043c \u043a\u043e\u0440\u043e\u0432\u0443 \u043e\u0442 \u0444\u0435\u0440\u043c\u0435\u0440\u0430 \u0444\u0435\u0440\u043c\u0435\u0440\u0443, \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c \u0438\u0437 \u0447\u0442\u0435\u043d\u0438\u044f \u0431\u0434\r\n    function TransferCow(address gamer, uint num_cow) public {\r\n        \r\n        //\u043f\u0440\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0436\u0438\u0432\u0443\u044e \u043a\u043e\u0440\u043e\u0432\u0443\r\n        if (user[keccak256(msg.sender) & keccak256(num_cow)].cow_live == true) {\r\n            \r\n            //\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u0440\u043e\u0432 \u0443 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f\r\n            uint cows_count = users_cows[gamer];\r\n            \r\n            //\u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0430\u043d\u043a\u0435\u0442\u0443 \u043a\u043e\u0440\u043e\u0432\u044b \u0434\u043b\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0444\u0435\u0440\u043c\u0435\u0440\u0430, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043c\u043e\u043b\u043e\u043a\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f\r\n            user[keccak256(gamer) & keccak256(cows_count)]=cows(user[keccak256(msg.sender) & keccak256(num_cow)].cow,\r\n            user[keccak256(msg.sender) & keccak256(num_cow)].date_buy,\r\n            user[keccak256(msg.sender) & keccak256(num_cow)].cow_live,0,now);\r\n            \r\n            //\u0443\u0431\u0438\u0432\u0430\u0435\u043c \u043a\u043e\u0440\u043e\u0432\u0443 \u0438 \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e \u0444\u0435\u0440\u043c\u0435\u0440\u0430\r\n            user[keccak256(msg.sender) & keccak256(num_cow)].cow_live= false;\r\n            \r\n            users_cows[gamer] ++;\r\n        }\r\n    }\r\n    \r\n    //\u0443\u0431\u0438\u0432\u0430\u0435\u043c \u043a\u043e\u0440\u043e\u0432\u0443 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0437 \u0434\u0432\u0438\u0436\u043a\u0430\r\n    function DeadCow(address gamer, uint num_cow) public onlyOwner {\r\n       \r\n        //\u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0430\u043d\u043a\u0435\u0442\u0443 \u043a\u043e\u0440\u043e\u0432\u044b\r\n        user[keccak256(gamer) & keccak256(num_cow)].cow_live = false;\r\n    }  \r\n    \r\n    //\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0433\u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0443\r\n    function TelegaSend(address gamer) public onlyOwner {\r\n       \r\n        //\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0433\u0443\r\n        telega[gamer] = true;\r\n       \r\n    }  \r\n    \r\n    //\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438\r\n    function SendOwner() public onlyOwner {\r\n        msg.sender.transfer(this.balance);\r\n    }      \r\n    \r\n    //\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0433\u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0443\r\n    function TelegaOut(address gamer) public onlyOwner {\r\n       \r\n        //\u041f\u043e\u0441\u043b\u0430\u0442\u044c \u0442\u0435\u043b\u0435\u0433\u0443\r\n        telega[gamer] = false;\r\n       \r\n    }  \r\n    \r\n    //\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u043e\u0432 \u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0430\r\n    function CountCow(address gamer) public view returns (uint) {\r\n        return users_cows[gamer];   \r\n    }\r\n\r\n    //\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u043e\u0432 \u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0430\r\n    function StatusCow(address gamer, uint num_cow) public view returns (uint,uint,bool,uint,uint) {\r\n        return (user[keccak256(gamer) & keccak256(num_cow)].cow,\r\n        user[keccak256(gamer) & keccak256(num_cow)].date_buy,\r\n        user[keccak256(gamer) & keccak256(num_cow)].cow_live,\r\n        user[keccak256(gamer) & keccak256(num_cow)].milk,\r\n        user[keccak256(gamer) & keccak256(num_cow)].date_milk);   \r\n    }\r\n    \r\n    //\u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0442\u0435\u043b\u0435\u0433\u0438 \u0443 \u0444\u0435\u0440\u043c\u0435\u0440\u0430\r\n    function Statustelega(address gamer) public view returns (bool) {\r\n        return telega[gamer];   \r\n    }    \r\n    \r\n}", "ABI": "[{\"constant\":false,\"inputs\":[],\"name\":\"pay\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"}],\"name\":\"TelegaSend\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"},{\"name\":\"num_cow\",\"type\":\"uint256\"}],\"name\":\"DeadCow\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"}],\"name\":\"CountCow\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"},{\"name\":\"num_cow\",\"type\":\"uint256\"}],\"name\":\"TransferCow\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"SendOwner\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"}],\"name\":\"TelegaOut\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"}],\"name\":\"Statustelega\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"saleMilk\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"gamer\",\"type\":\"address\"},{\"name\":\"num_cow\",\"type\":\"uint256\"}],\"name\":\"StatusCow\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"bool\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}]", "ContractName": "Game", "CompilerVersion": "v0.4.21+commit.dfe3193c", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://b71139224ac732cf144ed10ac21a525ace6824bb85d63327884aef521d505c6b"}]}