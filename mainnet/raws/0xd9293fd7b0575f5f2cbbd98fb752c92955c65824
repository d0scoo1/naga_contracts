{"status": "1", "message": "OK", "result": [{"SourceCode": "// SPDX-License-Identifier: MIT\r\npragma solidity ^0.8.12;\r\n\r\ninterface Pair {\r\n\tfunction totalSupply() external view returns (uint256);\r\n\tfunction balanceOf(address) external view returns (uint256);\r\n\tfunction getReserves() external view returns (uint112 reserve0, uint112 reserve1, uint32 blockTimestampLast);\r\n}\r\n\r\ninterface WG {\r\n\tfunction fishermenOf(address) external view returns (uint256);\r\n\tfunction fishermenRewardsOf(address) external view returns (uint256);\r\n\tfunction whalesOf(address) external view returns (uint256);\r\n\tfunction whaleRewardsOf(address) external view returns (uint256);\r\n}\r\n\r\ninterface KRILL {\r\n\tfunction balanceOf(address) external view returns (uint256);\r\n}\r\n\r\ninterface Staking {\r\n\tfunction depositedOf(address) external view returns (uint256);\r\n\tfunction rewardsOf(address) external view returns (uint256);\r\n\r\n}\r\n\r\ninterface Compounder {\r\n\tfunction allInfoFor(address) external view returns (uint256 contractBalance, uint256 totalTokenSupply, uint256 truePrice, uint256 buyPrice, uint256 sellPrice, uint256 openingTime, uint256 userETH, uint256 userKRILL, uint256 userBalance, uint256 userDividends, uint256 userLiquidValue);\r\n}\r\n\r\ninterface Wrapper {\r\n\tfunction balanceOf(address) external view returns (uint256);\r\n\tfunction rewardsOf(address) external view returns (uint256);\r\n}\r\n\r\n\r\ncontract KRILLDAO {\r\n\r\n\taddress public owner;\r\n\tuint256 public whaleWeight = 150;\r\n\tuint256 public fishermanWeight = 10;\r\n\tuint256 public krillScale = 1e6; // 1:1M\r\n\tuint8 constant public decimals = 18;\r\n\r\n\tWG constant private wg = WG(0x1Ebb218415B1f70aeFf54041c743082f183318cE);\r\n\tKRILL constant private krill = KRILL(0xf59BfEED034092E399Cc43Ff79EdAb15e2e18735);\r\n\tStaking constant private staking = Staking(0x1a300c5A5639C4605C1B47F6e079E8b4056a9376);\r\n\tCompounder constant private compounder = Compounder(0x9A8fd979f655F8E41D086B596F14BcA16F53ad15);\r\n\tWrapper constant private wFM = Wrapper(0xcE113e6e2386197917D70d58DDdE148bfA4F58Ca);\r\n\tWrapper constant private wWH = Wrapper(0xD0c99622c3f0C09b4B08f5f13Dd28BeE13f6E3c7);\r\n\tPair constant private pair = Pair(0x99EF226531aEa4E34f3188aB83Ae110E3C4d3447);\r\n\r\n\r\n\tmodifier _onlyOwner() {\r\n\t\trequire(msg.sender == owner);\r\n\t\t_;\r\n\t}\r\n\r\n\r\n\tconstructor() {\r\n\t\towner = msg.sender;\r\n\t}\r\n\r\n\tfunction setOwner(address _owner) external _onlyOwner {\r\n\t\towner = _owner;\r\n\t}\r\n\r\n\tfunction setWhaleWeight(uint256 _whaleWeight) external _onlyOwner {\r\n\t\twhaleWeight = _whaleWeight;\r\n\t}\r\n\r\n\tfunction setFishermanWeight(uint256 _fishermanWeight) external _onlyOwner {\r\n\t\tfishermanWeight = _fishermanWeight;\r\n\t}\r\n\r\n\tfunction setKrillScale(uint256 _krillScale) external _onlyOwner {\r\n\t\trequire(_krillScale > 0);\r\n\t\tkrillScale = _krillScale;\r\n\t}\r\n\r\n\r\n\tfunction balanceOf(address _user) external view returns (uint256 votingPower) {\r\n\t\tvotingPower = (1e18 * wg.fishermenOf(_user) + wFM.balanceOf(_user)) * fishermanWeight;\r\n\t\tvotingPower += (1e18 * wg.whalesOf(_user) + wWH.balanceOf(_user)) * whaleWeight;\r\n\r\n\t\tuint256 _krill = krill.balanceOf(_user) + wg.fishermenRewardsOf(_user) + wFM.rewardsOf(_user) + wg.whaleRewardsOf(_user) + wWH.rewardsOf(_user) + staking.rewardsOf(_user);\r\n\t\tuint256 _totalSupply = pair.totalSupply();\r\n\t\t( , uint256 _krillReserve, ) = pair.getReserves();\r\n\t\t_krill += (pair.balanceOf(_user) + staking.depositedOf(_user)) * _krillReserve / _totalSupply;\r\n\t\t( , , , , , , , , , , uint256 _liquidValue) = compounder.allInfoFor(_user);\r\n\t\t_krill += _liquidValue;\r\n\t\tvotingPower += _krill / krillScale;\r\n\t}\r\n}", "ABI": "[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"votingPower\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"fishermanWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"krillScale\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_fishermanWeight\",\"type\":\"uint256\"}],\"name\":\"setFishermanWeight\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_krillScale\",\"type\":\"uint256\"}],\"name\":\"setKrillScale\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"setOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_whaleWeight\",\"type\":\"uint256\"}],\"name\":\"setWhaleWeight\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"whaleWeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}]", "ContractName": "KRILLDAO", "CompilerVersion": "v0.8.12+commit.f00d7308", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://e61099be129815e4f1be96a26a2d2f25fe022e0bfea5f42b2d89bf2ed80c4576"}]}