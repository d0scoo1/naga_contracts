{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity 0.8.12;\r\n\r\ninterface IERC721 {\r\n    function transferFrom(address from, address to, uint256 tokenId) external;\r\n}\r\n\r\ncontract UniV3Lock  {\r\n    address public uniV3Nft;\r\n\r\n    event LpPositionLocked(address owner, uint tokenId, uint unlockTime);\r\n    event LpPositionUnlocked(address owner, uint tokenId);\r\n   \r\n    constructor(address _uniV3Nft) {\r\n        require(_uniV3Nft != address(0), \"_uniV3Nft is address zero\");\r\n        uniV3Nft = _uniV3Nft;\r\n    }\r\n    \r\n    mapping(uint => address) tokenIdToDepositor;\r\n    mapping(uint => uint) tokenIdToUnlockTime;\r\n    \r\n    function lock(uint _tokenId, uint _unlockTime) external {\r\n        require(_unlockTime > block.timestamp, \"unlockTime already passed\");\r\n        IERC721(uniV3Nft).transferFrom(msg.sender, address(this), _tokenId);\r\n        tokenIdToDepositor[_tokenId] = msg.sender;\r\n        tokenIdToUnlockTime[_tokenId] = _unlockTime;\r\n        emit LpPositionLocked(msg.sender, _tokenId, _unlockTime);\r\n    }\r\n\r\n    function relock(uint _tokenId, uint _unlockTime) external {\r\n        require(tokenIdToDepositor[_tokenId] == msg.sender, \"caller is not depositor of token\");\r\n        require(_unlockTime > tokenIdToUnlockTime[_tokenId], \"new unlockTime not greater than current\");\r\n        require(_unlockTime > block.timestamp, \"unlockTime already passed\");\r\n        tokenIdToUnlockTime[_tokenId] = _unlockTime;\r\n        emit LpPositionLocked(msg.sender, _tokenId, _unlockTime);\r\n    }\r\n\r\n    function unlock(uint _tokenId) external {\r\n        require(tokenIdToDepositor[_tokenId] == msg.sender, \"caller is not depositor of token\");\r\n        require(block.timestamp >= tokenIdToUnlockTime[_tokenId], \"lock not yet expired\");\r\n        IERC721(uniV3Nft).transferFrom(address(this), msg.sender, _tokenId);\r\n        tokenIdToDepositor[_tokenId] = address(0);\r\n        tokenIdToUnlockTime[_tokenId] = 0;\r\n        emit LpPositionUnlocked(msg.sender, _tokenId);\r\n    } \r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_uniV3Nft\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"unlockTime\",\"type\":\"uint256\"}],\"name\":\"LpPositionLocked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"LpPositionUnlocked\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_unlockTime\",\"type\":\"uint256\"}],\"name\":\"lock\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_unlockTime\",\"type\":\"uint256\"}],\"name\":\"relock\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniV3Nft\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_tokenId\",\"type\":\"uint256\"}],\"name\":\"unlock\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "UniV3Lock", "CompilerVersion": "v0.8.12+commit.f00d7308", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "000000000000000000000000c36442b4a4522e871399cd717abdd847ab11fe88", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://fff13432338a7a23780171c5a244509310bcb236adf80774272c08073ec6dd3f"}]}