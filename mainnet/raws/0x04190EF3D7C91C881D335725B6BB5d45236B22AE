{"status": "1", "message": "OK", "result": [{"SourceCode": "{{\r\n  \"language\": \"Solidity\",\r\n  \"sources\": {\r\n    \"contracts/LootClassification.sol\": {\r\n      \"content\": \"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\n/*\\nLootCLassification.sol\\nLootverse Utility contract to classifyitems found in Loot (For Adventurers) Bags.\\n\\nSee OG Loot Contract for lists of all possible items.\\nhttps://etherscan.io/address/0xff9c1b15b16263c61d017ee9f65c50e4ae0113d7\\n\\nAll functions are made public incase they are useful but the expected use is through the main\\n3 classification functions:\\n\\n- getRank()\\n- getClass()\\n- getMaterial()\\n- getLevel()\\n\\nEach of these take an item 'Type' (weapon, chest, head etc.) \\nand an index into the list of all possible items of that type as found in the OG Loot contract.\\n\\nThe LootComponents(0x3eb43b1545a360d1D065CB7539339363dFD445F3) contract can be used to get item indexes from Loot bag tokenIDs.\\nThe code from LootComponents is copied into this contract and rewritten for gas efficiency\\nSo a typical use might be:\\n\\n// get weapon classification for loot bag# 1234\\n{\\n    LootClassification classification = \\n        LootClassification(_TBD_);\\n\\n    uint256[5] memory weaponComponents = classification.weaponComponents(1234);\\n    uint256 index = weaponComponents[0];\\n\\n    LootClassification.Type itemType = LootClassification.Type.Weapon;\\n    LootClassification.Class class = classification.getClass(itemType, index);\\n    LootClassification.Material material = classification.getMaterial(itemType, index);\\n    uint256 rank = classification.getRank(itemType, index);\\n    uint256 level = classification.getLevel(itemType, index);\\n}\\n*/\\ncontract LootClassification\\n{\\n    enum Type\\n    {\\n        Weapon,\\n        Chest,\\n        Head,\\n        Waist,\\n        Foot,\\n        Hand,\\n        Neck,\\n        Ring\\n    }\\n    \\n    enum Material\\n    {\\n        Heavy,\\n        Medium,\\n        Dark,\\n        Light,\\n        Cloth,\\n        Hide,\\n        Metal,\\n        Jewellery\\n    }\\n    \\n    enum Class\\n    {\\n        Warrior,\\n        Hunter,\\n        Mage,\\n        Any\\n    }\\n    \\n    uint256 constant public WeaponLastHeavyIndex = 4;\\n    uint256 constant public WeaponLastMediumIndex = 9;\\n    uint256 constant public WeaponLastDarkIndex = 13;\\n    \\n    function getWeaponMaterial(uint256 index) pure public returns(Material)\\n    {\\n        if (index <= WeaponLastHeavyIndex)\\n            return Material.Heavy;\\n        \\n        if (index <= WeaponLastMediumIndex)\\n            return Material.Medium;\\n        \\n        if (index <= WeaponLastDarkIndex)\\n            return Material.Dark;\\n        \\n        return Material.Light;\\n    }\\n    \\n    function getWeaponRank(uint256 index) pure public returns (uint256)\\n    {\\n        if (index <= WeaponLastHeavyIndex)\\n            return index + 1;\\n        \\n        if (index <= WeaponLastMediumIndex)\\n            return index - 4;\\n        \\n        if (index <= WeaponLastDarkIndex)\\n            return index - 9;\\n        \\n        return index -13;\\n    }\\n    \\n    uint256 constant public ChestLastClothIndex = 4;\\n    uint256 constant public ChestLastLeatherIndex = 9;\\n    \\n    function getChestMaterial(uint256 index) pure public returns(Material)\\n    {\\n        if (index <= ChestLastClothIndex)\\n            return Material.Cloth;\\n        \\n        if (index <= ChestLastLeatherIndex)\\n            return Material.Hide;\\n        \\n        return Material.Metal;\\n    }\\n    \\n    function getChestRank(uint256 index) pure public returns (uint256)\\n    {\\n        if (index <= ChestLastClothIndex)\\n            return index + 1;\\n        \\n        if (index <= ChestLastLeatherIndex)\\n            return index - 4;\\n        \\n        return index - 9;\\n    }\\n    \\n    // Head, waist, foot and hand items all follow the same classification pattern,\\n    // so they are generalised as armour.\\n    uint256 constant public ArmourLastMetalIndex = 4;\\n    uint256 constant public ArmourLasLeatherIndex = 9;\\n    \\n    function getArmourMaterial(uint256 index) pure public returns(Material)\\n    {\\n        if (index <= ArmourLastMetalIndex)\\n            return Material.Metal;\\n        \\n        if (index <= ArmourLasLeatherIndex)\\n            return Material.Hide;\\n        \\n        return Material.Cloth;\\n    }\\n    \\n    function getArmourRank(uint256 index) pure public returns (uint256)\\n    {\\n        if (index <= ArmourLastMetalIndex)\\n            return index + 1;\\n        \\n        if (index <= ArmourLasLeatherIndex)\\n            return index - 4;\\n        \\n        return index - 9;\\n    }\\n    \\n    function getRingRank(uint256 index) pure public returns (uint256)\\n    {\\n        if (index > 2)\\n            return 1;\\n        else \\n            return index + 1;\\n    }\\n    \\n    function getNeckRank(uint256 index) pure public returns (uint256)\\n    {\\n        return 1;\\n    }\\n    \\n    function getMaterial(Type lootType, uint256 index) pure public returns (Material)\\n    {\\n         if (lootType == Type.Weapon)\\n            return getWeaponMaterial(index);\\n            \\n        if (lootType == Type.Chest)\\n            return getChestMaterial(index);\\n            \\n        if (lootType == Type.Head ||\\n            lootType == Type.Waist ||\\n            lootType == Type.Foot ||\\n            lootType == Type.Hand)\\n        {\\n            return getArmourMaterial(index);\\n        }\\n            \\n        return Material.Jewellery;\\n    }\\n    \\n    function getClass(Type lootType, uint256 index) pure public returns (Class)\\n    {\\n        Material material = getMaterial(lootType, index);\\n        return getClassFromMaterial(material);\\n    }\\n\\n    function getClassFromMaterial(Material material) pure public returns (Class)\\n    {   \\n        if (material == Material.Heavy || material == Material.Metal)\\n            return Class.Warrior;\\n            \\n        if (material == Material.Medium || material == Material.Hide)\\n            return Class.Hunter;\\n            \\n        if (material == Material.Dark || material == Material.Light || material == Material.Cloth)\\n            return Class.Mage;\\n            \\n        return Class.Any;\\n        \\n    }\\n    \\n    function getRank(Type lootType, uint256 index) pure public returns (uint256)\\n    {\\n        if (lootType == Type.Weapon)\\n            return getWeaponRank(index);\\n            \\n        if (lootType == Type.Chest)\\n            return getChestRank(index);\\n        \\n        if (lootType == Type.Head ||\\n            lootType == Type.Waist ||\\n            lootType == Type.Foot ||\\n            lootType == Type.Hand)\\n        {\\n            return getArmourRank(index);\\n        }\\n        \\n        if (lootType == Type.Ring)\\n            return getRingRank(index);\\n            \\n        return getNeckRank(index);  \\n    }\\n\\n    function getLevel(Type lootType, uint256 index) pure public returns (uint256)\\n    {\\n        if (lootType == Type.Chest ||\\n            lootType == Type.Weapon ||\\n            lootType == Type.Head ||\\n            lootType == Type.Waist ||\\n            lootType == Type.Foot ||\\n            lootType == Type.Hand)\\n        {\\n            return 6 - getRank(lootType, index);\\n        } else {\\n            return 4 - getRank(lootType, index); \\n        }\\n    }\\n\\n    ///////////////////////////////////////////////////////////////////////////\\n    /*\\n    Gas efficient implementation of LootComponents\\n    https://etherscan.io/address/0x3eb43b1545a360d1D065CB7539339363dFD445F3#code\\n    The actual names are not needed when retreiving the component indexes only\\n    Header comment from orignal follows:\\n\\n    // SPDX-License-Identifier: Unlicense\\n    \\n    This is a utility contract to make it easier for other\\n    contracts to work with Loot properties.\\n    \\n    Call weaponComponents(), chestComponents(), etc. to get \\n    an array of attributes that correspond to the item. \\n    \\n    The return format is:\\n    \\n    uint256[6] =>\\n        [0] = Item ID\\n        [1] = Suffix ID (0 for none)\\n        [2] = Name Prefix ID (0 for none)\\n        [3] = Name Suffix ID (0 for none)\\n        [4] = Augmentation (0 = false, 1 = true)\\n        [5] = Greatness\\n    \\n    See the item and attribute tables below for corresponding IDs.\\n    */\\n\\n    uint256 constant WEAPON_COUNT = 18;\\n    uint256 constant CHEST_COUNT = 15;\\n    uint256 constant HEAD_COUNT = 15;\\n    uint256 constant WAIST_COUNT = 15;\\n    uint256 constant FOOT_COUNT = 15;\\n    uint256 constant HAND_COUNT = 15;\\n    uint256 constant NECK_COUNT = 3;\\n    uint256 constant RING_COUNT = 5;\\n    uint256 constant SUFFIX_COUNT = 16;\\n    uint256 constant NAME_PREFIX_COUNT = 69;\\n    uint256 constant NAME_SUFFIX_COUNT = 18;\\n\\n    function random(string memory input) internal pure returns (uint256) \\n    {\\n        return uint256(keccak256(abi.encodePacked(input)));\\n    }\\n\\n    function weaponComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"WEAPON\\\", WEAPON_COUNT);\\n    }\\n    \\n    function chestComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"CHEST\\\", CHEST_COUNT);\\n    }\\n    \\n    function headComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"HEAD\\\", HEAD_COUNT);\\n    }\\n    \\n    function waistComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"WAIST\\\", WAIST_COUNT);\\n    }\\n\\n    function footComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"FOOT\\\", FOOT_COUNT);\\n    }\\n    \\n    function handComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"HAND\\\", HAND_COUNT);\\n    }\\n    \\n    function neckComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"NECK\\\", NECK_COUNT);\\n    }\\n    \\n    function ringComponents(uint256 tokenId) public pure returns (uint256[6] memory) \\n    {\\n        return tokenComponents(tokenId, \\\"RING\\\", RING_COUNT);\\n    }\\n\\n    function tokenComponents(uint256 tokenId, string memory keyPrefix, uint256 itemCount) \\n        internal pure returns (uint256[6] memory) \\n    {\\n        uint256[6] memory components;\\n        \\n        uint256 rand = random(string(abi.encodePacked(keyPrefix, toString(tokenId))));\\n        \\n        components[0] = rand % itemCount;\\n        components[1] = 0;\\n        components[2] = 0;\\n        \\n        components[5] = rand % 21; //aka greatness\\n        if (components[5] > 14) {\\n            components[1] = (rand % SUFFIX_COUNT) + 1;\\n        }\\n        if (components[5] >= 19) {\\n            components[2] = (rand % NAME_PREFIX_COUNT) + 1;\\n            components[3] = (rand % NAME_SUFFIX_COUNT) + 1;\\n            if (components[5] == 19) {\\n                // ...\\n            } else {\\n                components[4] = 1;\\n            }\\n        }\\n        return components;\\n    }\\n\\n    function toString(uint256 value) internal pure returns (string memory) \\n    {\\n        // Inspired by OraclizeAPI's implementation - MIT license\\n        // https://github.com/oraclize/ethereum-api/blob/b42146b063c7d6ee1358846c198246239e9360e8/oraclizeAPI_0.4.25.sol\\n\\n        if (value == 0) {\\n            return \\\"0\\\";\\n        }\\n        uint256 temp = value;\\n        uint256 digits;\\n        while (temp != 0) {\\n            digits++;\\n            temp /= 10;\\n        }\\n        bytes memory buffer = new bytes(digits);\\n        while (value != 0) {\\n            digits -= 1;\\n            buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));\\n            value /= 10;\\n        }\\n        return string(buffer);\\n    }\\n}\"\r\n    }\r\n  },\r\n  \"settings\": {\r\n    \"optimizer\": {\r\n      \"enabled\": true,\r\n      \"runs\": 200\r\n    },\r\n    \"outputSelection\": {\r\n      \"*\": {\r\n        \"*\": [\r\n          \"evm.bytecode\",\r\n          \"evm.deployedBytecode\",\r\n          \"devdoc\",\r\n          \"userdoc\",\r\n          \"metadata\",\r\n          \"abi\"\r\n        ]\r\n      }\r\n    },\r\n    \"libraries\": {}\r\n  }\r\n}}", "ABI": "[{\"inputs\":[],\"name\":\"ArmourLasLeatherIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ArmourLastMetalIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ChestLastClothIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ChestLastLeatherIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WeaponLastDarkIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WeaponLastHeavyIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WeaponLastMediumIndex\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"chestComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"footComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getArmourMaterial\",\"outputs\":[{\"internalType\":\"enum LootClassification.Material\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getArmourRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getChestMaterial\",\"outputs\":[{\"internalType\":\"enum LootClassification.Material\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getChestRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum LootClassification.Type\",\"name\":\"lootType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getClass\",\"outputs\":[{\"internalType\":\"enum LootClassification.Class\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum LootClassification.Material\",\"name\":\"material\",\"type\":\"uint8\"}],\"name\":\"getClassFromMaterial\",\"outputs\":[{\"internalType\":\"enum LootClassification.Class\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum LootClassification.Type\",\"name\":\"lootType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getLevel\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum LootClassification.Type\",\"name\":\"lootType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getMaterial\",\"outputs\":[{\"internalType\":\"enum LootClassification.Material\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getNeckRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"enum LootClassification.Type\",\"name\":\"lootType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getRingRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getWeaponMaterial\",\"outputs\":[{\"internalType\":\"enum LootClassification.Material\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"getWeaponRank\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"handComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"headComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"neckComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ringComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"waistComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"weaponComponents\",\"outputs\":[{\"internalType\":\"uint256[6]\",\"name\":\"\",\"type\":\"uint256[6]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}]", "ContractName": "LootClassification", "CompilerVersion": "v0.8.4+commit.c7e474f2", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": ""}]}