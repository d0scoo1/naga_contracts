{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.21;\r\n\r\n/* This contract is the Proof of Community whale contract that will buy and sell tokens to share dividends to token holders.\r\n   This contract can also handle multiple games to donate ETH to it, which will be needed for future game developement.\r\n\r\n    Kenny - Solidity developer\r\n\tBungalogic - website developer, concept and design, graphics. \r\n\r\n\r\n   \u8be5\u5408\u540c\u662f\u793e\u533a\u9cb8\u9c7c\u5408\u540c\u7684\u8bc1\u660e\uff0c\u5b83\u5c06\u8d2d\u4e70\u548c\u51fa\u552e\u4ee3\u5e01\u4ee5\u5411\u4ee3\u5e01\u6301\u6709\u8005\u5206\u4eab\u80a1\u606f\u3002\r\n   \u8be5\u5408\u540c\u8fd8\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u6e38\u620f\u4ee5\u5411\u5176\u6350\u8d60ETH\uff0c\u8fd9\u5c06\u662f\u672a\u6765\u6e38\u620f\u5f00\u53d1\u6240\u9700\u8981\u7684\u3002  \r\n\r\n   Kenny  -  Solidity\u5f00\u53d1\u4eba\u5458\r\n   Bungalogic  - \u7f51\u7ad9\u5f00\u53d1\u4eba\u5458\uff0c\u6982\u5ff5\u548c\u8bbe\u8ba1\uff0c\u56fe\u5f62\u3002\r\n*/\r\n\r\n\r\n\r\ncontract Kujira \r\n{ \r\n    /*\r\n      Modifiers\r\n      \u4fee\u9970\u7b26\r\n     */\r\n\r\n    // Only the people that published this contract\r\n    // \u53ea\u6709\u53d1\u5e03\u6b64\u5408\u540c\u7684\u4eba\u624d\r\n    modifier onlyOwner()\r\n    {\r\n        require(msg.sender == owner || msg.sender == owner2);\r\n        _;\r\n    }\r\n    \r\n    // Only PoC token contract\r\n    // \u53ea\u6709PoC\u4ee4\u724c\u5408\u540c\r\n    modifier notPoC(address aContract)\r\n    {\r\n        require(aContract != address(pocContract));\r\n        _;\r\n    }\r\n   \r\n    /*\r\n      Events\r\n      \u6d3b\u52a8\r\n     */\r\n    event Deposit(uint256 amount, address depositer);\r\n    event Purchase(uint256 amountSpent, uint256 tokensReceived);\r\n    event Sell();\r\n    event Payout(uint256 amount, address creditor);\r\n    event Transfer(uint256 amount, address paidTo);\r\n\r\n   /**\r\n      Global Variables\r\n      \u5168\u5c40\u53d8\u91cf\r\n     */\r\n    address owner;\r\n    address owner2;\r\n    PoC pocContract;\r\n    uint256 tokenBalance;\r\n   \r\n    \r\n    /*\r\n       Constructor\r\n       \u65bd\u5de5\u4eba\r\n     */\r\n    constructor(address owner2Address) \r\n    public \r\n    {\r\n        owner = msg.sender;\r\n        owner2 = owner2Address;\r\n        pocContract = PoC(address(0x1739e311ddBf1efdFbc39b74526Fd8b600755ADa));\r\n        tokenBalance = 0;\r\n    }\r\n    \r\n    function() payable public { }\r\n     \r\n    /*\r\n      Only way to give contract ETH and have it immediately use it, is by using donate function\r\n      \u7ed9\u5408\u540cETH\u5e76\u8ba9\u5b83\u7acb\u5373\u4f7f\u7528\u7684\u552f\u4e00\u65b9\u6cd5\u662f\u4f7f\u7528\u6350\u8d60\u529f\u80fd\r\n     */\r\n    function donate() \r\n    public payable \r\n    {\r\n        //You have to send more than 1000000 wei\r\n        //\u4f60\u5fc5\u987b\u53d1\u9001\u8d85\u8fc71000000 wei\r\n        require(msg.value > 1000000 wei);\r\n        uint256 ethToTransfer = address(this).balance;\r\n        uint256 PoCEthInContract = address(pocContract).balance;\r\n       \r\n        // if PoC contract balance is less than 5 ETH, PoC is dead and there is no reason to pump it\r\n        // \u5982\u679cPoC\u5408\u540c\u4f59\u989d\u4f4e\u4e8e5 ETH\uff0cPoC\u5df2\u7ecf\u6b7b\u4ea1\uff0c\u6ca1\u6709\u7406\u7531\u5c06\u5176\u6cf5\u51fa\r\n        if(PoCEthInContract < 5 ether)\r\n        {\r\n            pocContract.exit();\r\n            tokenBalance = 0;\r\n            ethToTransfer = address(this).balance;\r\n\r\n            owner.transfer(ethToTransfer);\r\n            emit Transfer(ethToTransfer, address(owner));\r\n        }\r\n\r\n        // let's buy and sell tokens to give dividends to PoC tokenholders\r\n        // \u8ba9\u6211\u4eec\u4e70\u5356\u4ee3\u5e01\u7ed9PoC\u4ee3\u5e01\u6301\u6709\u4eba\u5206\u7ea2\r\n        else\r\n        {\r\n            tokenBalance = myTokens();\r\n\r\n             // if token balance is greater than 0, sell and rebuy \r\n             // \u5982\u679c\u4ee4\u724c\u4f59\u989d\u5927\u4e8e0\uff0c\u5219\u51fa\u552e\u5e76\u91cd\u65b0\u8d2d\u4e70\r\n\r\n            if(tokenBalance > 0)\r\n            {\r\n                pocContract.exit();\r\n                tokenBalance = 0; \r\n\r\n                ethToTransfer = address(this).balance;\r\n\r\n                if(ethToTransfer > 0)\r\n                {\r\n                    pocContract.buy.value(ethToTransfer)(0x0);\r\n                }\r\n                else\r\n                {\r\n                    pocContract.buy.value(msg.value)(0x0);\r\n                }\r\n            }\r\n            else\r\n            {   \r\n                // we have no tokens, let's buy some if we have ETH balance\r\n                // \u6211\u4eec\u6ca1\u6709\u4ee3\u5e01\uff0c\u5982\u679c\u6211\u4eec\u6709ETH\u4f59\u989d\uff0c\u6211\u4eec\u5c31\u4e70\u4e00\u4e9b\r\n                if(ethToTransfer > 0)\r\n                {\r\n                    pocContract.buy.value(ethToTransfer)(0x0);\r\n                    tokenBalance = myTokens();\r\n                    emit Deposit(msg.value, msg.sender);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    /**\r\n       Number of tokens the contract owns.\r\n       \u5408\u540c\u62e5\u6709\u7684\u4ee3\u5e01\u6570\u91cf\u3002\r\n     */\r\n    function myTokens() \r\n    public \r\n    view \r\n    returns(uint256)\r\n    {\r\n        return pocContract.myTokens();\r\n    }\r\n    \r\n    /**\r\n       Number of dividends owed to the contract.\r\n       \u6b20\u5408\u540c\u7684\u80a1\u606f\u6570\u91cf\u3002\r\n     */\r\n    function myDividends() \r\n    public \r\n    view \r\n    returns(uint256)\r\n    {\r\n        return pocContract.myDividends(true);\r\n    }\r\n\r\n    /**\r\n       ETH balance of contract\r\n       \u5408\u7ea6\u7684ETH\u4f59\u989d\r\n     */\r\n    function ethBalance() \r\n    public \r\n    view \r\n    returns (uint256)\r\n    {\r\n        return address(this).balance;\r\n    }\r\n\r\n    /**\r\n       If someone sends tokens other than PoC tokens, the owner can return them.\r\n       \u5982\u679c\u6709\u4eba\u53d1\u9001\u9664PoC\u4ee4\u724c\u4ee5\u5916\u7684\u4ee4\u724c\uff0c\u5219\u6240\u6709\u8005\u53ef\u4ee5\u9000\u56de\u5b83\u4eec\u3002\r\n     */\r\n    function transferAnyERC20Token(address tokenAddress, address tokenOwner, uint tokens) \r\n    public \r\n    onlyOwner() \r\n    notPoC(tokenAddress) \r\n    returns (bool success) \r\n    {\r\n        return ERC20Interface(tokenAddress).transfer(tokenOwner, tokens);\r\n    }\r\n    \r\n}\r\n\r\n// Define the PoC token for the contract\r\n// \u4e3a\u5408\u540c\u5b9a\u4e49PoC\u4ee4\u724c\r\ncontract PoC \r\n{\r\n    function buy(address) public payable returns(uint256);\r\n    function exit() public;\r\n    function myTokens() public view returns(uint256);\r\n    function myDividends(bool) public view returns(uint256);\r\n    function totalEthereumBalance() public view returns(uint);\r\n}\r\n\r\n// Define ERC20Interface.transfer, so contract can transfer tokens accidently sent to it.\r\n// \u5b9a\u4e49ERC20 Interface.transfer\uff0c\u56e0\u6b64\u5408\u540c\u53ef\u4ee5\u8f6c\u79fb\u610f\u5916\u53d1\u9001\u7ed9\u5b83\u7684\u4ee4\u724c\u3002\r\ncontract ERC20Interface \r\n{\r\n    function transfer(address to, uint256 tokens) \r\n    public \r\n    returns (bool success);\r\n}", "ABI": "[{\"constant\":true,\"inputs\":[],\"name\":\"myDividends\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ethBalance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"myTokens\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"tokenAddress\",\"type\":\"address\"},{\"name\":\"tokenOwner\",\"type\":\"address\"},{\"name\":\"tokens\",\"type\":\"uint256\"}],\"name\":\"transferAnyERC20Token\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"donate\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"owner2Address\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"depositer\",\"type\":\"address\"}],\"name\":\"Deposit\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amountSpent\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"tokensReceived\",\"type\":\"uint256\"}],\"name\":\"Purchase\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Sell\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"creditor\",\"type\":\"address\"}],\"name\":\"Payout\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"paidTo\",\"type\":\"address\"}],\"name\":\"Transfer\",\"type\":\"event\"}]", "ContractName": "Kujira", "CompilerVersion": "v0.4.24+commit.e67f0147", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "000000000000000000000000ba21d01125d6932ce8abf3625977899fd2c7fa30", "EVMVersion": "Default", "Library": "", "LicenseType": "", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://4c45542f919fef7dfea212651c8b97cee288171e7a291d69be65ecd8c8f8d980"}]}