{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.4.24;\r\n\r\ncontract Owned\r\n{\r\n    mapping (address => uint256) internal team;\r\n    constructor() internal\r\n    {\r\n        //\u8a2d\u5b9a\u53ef\u4ee5\u64cd\u4f5c\u6b64\u9322\u5305\u7684\u4eba\u54e1\r\n        //\u4e00bit \u4ee3\u8868\u4e00\u500b\u4eba \r\n        // 0001 => \u7b2c\u4e00\u4f4d\uff0c0010 =>\u7b2c\u4e8c\u4f4d \uff0c\u4ee5\u6b64\u985e\u63a8\r\n\r\n        team[0xA3Cb8DA6B0c1A2ACd6224F66B567Bf1CfD19dDB6] = 1; \r\n        team[0x49c3a0fD7C0BC8f1dcC1af3c4017CeEd87cfAf70] = 2;\r\n        team[0x722b5A9Cf14D37188F05e6f3B629e23066DE9331] = 4;\r\n        team[0x99683359463FE05584dE7eC209291E35ECA57378] = 8;\r\n        team[0x9aAEDDc1adfD6C4048bFA67944C59818d6bA3E23] = 16;\r\n        team[0xc600D2C29548408A1d2309C14fb2F45f0E80b004] = 32;\r\n    }\r\n    \r\n    modifier onlyowner()\r\n    {\r\n        //\u53ea\u6709\u5728team list\u7684\u4eba\u624d\u6703\u5927\u65bc0\r\n        require(team[msg.sender]>0);\r\n        _;\r\n    }\r\n}\r\n\r\ncontract multisig\r\n{\r\n    event RequestIndex(address initiator, address to, uint value,uint256 Mindex);\r\n    event TansferEvent(address to, uint value ,uint256 Mindex ,uint256 approvedmembers);\r\n    \r\n    //TransferStatus\r\n    //\u4ea4\u6613\u72c0\u614b\r\n    struct TransferStatus \r\n    {\r\n        address from_;\r\n        //to  :  \u9001\u5230\u54ea\u500b\u5730\u5740\r\n        address to;\r\n        //amount : \u8981\u50b3\u9001\u591a\u5c11token\r\n        uint256 amount;\r\n        //ApprovedNumbers :   \u6709\u5e7e\u500b\u4eba\u540c\u610f\u6b64\u7b46\u4ea4\u6613\r\n        uint256 ApprovedNumbers;\r\n        //Approvedmembers : \u6709\u54ea\u4e9b\u4eba\u540c\u610f\u6b64\u4ea4\u6613 \r\n        uint256 Approvedmembers;\r\n        //Transfered :      Token\u662f\u4e0d\u662f\u5df2\u7d93\u9054\u5230\u689d\u4ef6\uff0c\u50b3\u9001\u51fa\u53bb\u4e86\r\n        bool Transfered;\r\n    }\r\n}\r\n\r\ncontract SASwallet is Owned,multisig\r\n{\r\n    //Token\u7684\u5730\u5740\r\n    SASInterface private SAStoken = SASInterface(0xf67f0fc1C85C0266B2DB5Cc6Eb091973bda1C409);\r\n    \r\n    mapping(uint256=>TransferStatus) public mStatus;\r\n\r\n    //index \u5e8f\u865f\r\n    uint256 public mIndex;\r\n    //\u9700\u8981\u5e7e\u500b\u4eba\u540c\u610f\r\n    uint256 public mNeed;\r\n    //\u6bcf\u5929\u50b3\u9001\u9650\u5236\r\n    uint256 constant public DailyLimit = 30000000*(10**18);\r\n    \r\n    //\u4eca\u5929\u5df2\u7d93\u82b1\u4e86\u591a\u5c11\r\n    uint256 public DailySpent;\r\n    \r\n    //\u4e0a\u7b46\u4ea4\u6613\u662f\u54ea\u4e00\u5929\r\n    uint256 public m_lastDay;\r\n\r\n    //\u628a\u73fe\u5728\u7684\u6642\u9593\u8f49\u63db\u6210\"\u5929\"\r\n    function today() private constant returns (uint) { return now / 1 days; }\r\n    \r\n    //\u5408\u7d04\u521d\u59cb\u5316\r\n    constructor () public\r\n    {\r\n        mIndex = 0;\r\n        mNeed =3;\r\n    }\r\n    \r\n    //\u767c\u8d77\u50b3\u9001\r\n    function TransferRequest(address _to,uint256 _value) onlyowner public returns(uint256)\r\n    {\r\n        //\u6642\u9593\u8d85\u904e\u6642\uff0c\u91cd\u8a2d\u6bcf\u5929\u7684\u9650\u5236\r\n        if (today() > m_lastDay) \r\n        {\r\n            DailySpent = 0;\r\n            m_lastDay = today();\r\n        }\r\n        //\u907f\u514doverflow\u6216\u662f\u8ca0\u503c\r\n        require(DailySpent + _value >= DailySpent,\"value not correct\");\r\n        //\u770b\u6709\u6c92\u6709\u8d85\u904e\u6bcf\u5929\u7684\u9650\u5236\r\n        require(DailySpent + _value <= DailyLimit,\"Daily Limit reached\");\r\n        //\u770b\u5408\u7d04\u88e1\u7684token\u5920\u4e0d\u5920\r\n        require(SAStoken.balanceOf(address(this))>=_value);\r\n        //\u770b\u5730\u5740\u662f\u4e0d\u662f\u90fd\u662f0\r\n        require(_to!=address(0));\r\n        //\u662f\u4e0d\u662f\u8ca0\u503c\r\n        require(_value>0);\r\n        \r\n        //\u7d00\u9304\u4eca\u5929\u82b1\u4e86\u591a\u5c11\r\n        DailySpent += _value;\r\n        \r\n        //\u9019\u7b46\u4ea4\u6613\u7684index \r\n        mIndex = mIndex+1;\r\n        \r\n        //\u521d\u59cb\u5316\u9019\u7b46\u4ea4\u6613\r\n        mStatus[mIndex].from_ = msg.sender;\r\n        mStatus[mIndex].to = _to;\r\n        mStatus[mIndex].amount = _value;\r\n        mStatus[mIndex].ApprovedNumbers=1;\r\n        mStatus[mIndex].Approvedmembers=team[msg.sender];\r\n        mStatus[mIndex].Transfered=false;\r\n        \r\n        //\u7d00\u9304\u8cc7\u8a0a\r\n        emit RequestIndex(msg.sender,_to,_value,mIndex);\r\n        return mIndex;\r\n    }\r\n    \r\n    function ApproveRequest(uint256 _index) onlyowner public\r\n    {\r\n        //\u9700\u8981\u5df2\u7d93\u5b58\u5728\u7684index\r\n        require(mIndex>=_index);\r\n        //\u9019\u7b46\u4ea4\u6613\u9084\u6c92\u6709\u50b3\u9001\r\n        require(mStatus[_index].Transfered==false);\r\n        \r\n        //\u5982\u679c\u64cd\u4f5c\u8005\u9084\u6c92\u6709\u540c\u610f\u904e\u9019\u7b46\u4ea4\u6613\uff0c\u624d\u6703\u9032\u5165if\r\n        if (((mStatus[_index].Approvedmembers)&(team[msg.sender]))==0)\r\n        {\r\n            //\u628a\u64cd\u4f5c\u8005\u52a0\u9032\u540c\u610f\u540d\u55ae\r\n            mStatus[_index].Approvedmembers |= team[msg.sender];\r\n            //\u540c\u610f\u4eba\u6578+1\r\n            mStatus[_index].ApprovedNumbers ++;\r\n            //\u5982\u679c\u540c\u610f\u4eba\u6578\u5927\u65bc\u6700\u4f4e\u9700\u6c42\uff0c\u9032\u5165if             \r\n            if(mStatus[_index].ApprovedNumbers>=mNeed)\r\n            {\r\n                //\u6a19\u8a18\u5df2\u50b3\u9001\r\n                mStatus[_index].Transfered = true;\r\n                //\u628atoken\u50b3\u51fa\u53bb\r\n                SAStoken.transfer(mStatus[mIndex].to,mStatus[mIndex].amount);\r\n                //\u7d00\u9304log\r\n                emit TansferEvent(mStatus[mIndex].to,mStatus[mIndex].amount,_index,mStatus[_index].Approvedmembers);\r\n            }   \r\n        }\r\n    }\r\n    \r\n    function Balance() public view returns(uint256)\r\n    {\r\n        return SAStoken.balanceOf(address(this));\r\n    }\r\n}\r\n\r\ninterface SASInterface \r\n{\r\n    function transfer(address _to, uint256 _value) external;\r\n    function balanceOf(address _owner) external view returns (uint256 balance);\r\n}", "ABI": "[{\"constant\":true,\"inputs\":[],\"name\":\"DailyLimit\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"Balance\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DailySpent\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"m_lastDay\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"mStatus\",\"outputs\":[{\"name\":\"from_\",\"type\":\"address\"},{\"name\":\"to\",\"type\":\"address\"},{\"name\":\"amount\",\"type\":\"uint256\"},{\"name\":\"ApprovedNumbers\",\"type\":\"uint256\"},{\"name\":\"Approvedmembers\",\"type\":\"uint256\"},{\"name\":\"Transfered\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"mNeed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"TransferRequest\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_index\",\"type\":\"uint256\"}],\"name\":\"ApproveRequest\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"initiator\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"Mindex\",\"type\":\"uint256\"}],\"name\":\"RequestIndex\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"value\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"Mindex\",\"type\":\"uint256\"},{\"indexed\":false,\"name\":\"approvedmembers\",\"type\":\"uint256\"}],\"name\":\"TansferEvent\",\"type\":\"event\"}]", "ContractName": "SASwallet", "CompilerVersion": "v0.4.26+commit.4563c3fc", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "None", "Proxy": "0", "Implementation": "", "SwarmSource": "bzzr://4c5973724983d0edf86704d7ce36c4141b0de82edda0e3fcc758980d2b71d920"}]}