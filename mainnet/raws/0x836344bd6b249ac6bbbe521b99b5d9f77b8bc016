{"status": "1", "message": "OK", "result": [{"SourceCode": "pragma solidity ^0.8.7;\r\n\r\ninterface IERC20 {\r\n    function balanceOf(address) external returns (uint256);\r\n\r\n    function transfer(address, uint256) external;\r\n}\r\n\r\ninterface IFraxGaugeUniV3 {\r\n    struct LockedNFT {\r\n        uint256 token_id; // for Uniswap V3 LPs\r\n        uint256 liquidity;\r\n        uint256 start_timestamp;\r\n        uint256 ending_timestamp;\r\n        uint256 lock_multiplier; // 6 decimals of precision. 1x = 1000000\r\n        int24 tick_lower;\r\n        int24 tick_upper;\r\n    }\r\n\r\n    function lockedNFTsOf(address account)\r\n        external\r\n        view\r\n        returns (LockedNFT[] memory);\r\n}\r\n\r\ninterface IStrategyProxy {\r\n    function withdrawV3(\r\n        address _gauge,\r\n        uint256 _tokenId,\r\n        address[] memory _rewardTokens\r\n    ) external returns (uint256);\r\n}\r\n\r\ninterface IUniswapV3PositionsNFT {\r\n    struct CollectParams {\r\n        uint256 tokenId;\r\n        address recipient;\r\n        uint128 amount0Max;\r\n        uint128 amount1Max;\r\n    }\r\n\r\n    struct DecreaseLiquidityParams {\r\n        uint256 tokenId;\r\n        uint128 liquidity;\r\n        uint256 amount0Min;\r\n        uint256 amount1Min;\r\n        uint256 deadline;\r\n    }\r\n\r\n    function decreaseLiquidity(DecreaseLiquidityParams calldata params)\r\n        external\r\n        payable\r\n        returns (uint256 amount0, uint256 amount1);\r\n\r\n    function collect(CollectParams calldata params)\r\n        external\r\n        payable\r\n        returns (uint256 amount0, uint256 amount1);\r\n}\r\n\r\ncontract BailLarryAssOut {\r\n    function bail() external {\r\n        address recipient = 0x324E0b53CefA84CF970833939249880f814557c6;\r\n        address gauge = 0x3EF26504dbc8Dd7B7aa3E97Bc9f3813a9FC0B4B0;\r\n        address locker = 0xd639C2eA4eEFfAD39b599410d00252E6c80008DF;\r\n\r\n        address usdc = 0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48;\r\n        address frax = 0x853d955aCEf822Db058eb8505911ED77F175b99e;\r\n        address fxs = 0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0;\r\n        address strategyProxy = 0x7a10B3C48216A54D1a1a1d268D24F69A77Ac94AD;\r\n\r\n        // First, we get all the Uni V3 NFTs into the strategy\r\n        address[] memory rewardTokens = new address[](3);\r\n        rewardTokens[0] = fxs;\r\n        rewardTokens[1] = usdc;\r\n        rewardTokens[2] = frax;\r\n\r\n        IFraxGaugeUniV3.LockedNFT[] memory lockedNfts = IFraxGaugeUniV3(gauge)\r\n            .lockedNFTsOf(address(locker));\r\n        for (uint256 i = 0; i < lockedNfts.length; i++) {\r\n            if (lockedNfts[i].token_id > 0 && lockedNfts[i].liquidity > 0) {\r\n                IStrategyProxy(strategyProxy).withdrawV3(\r\n                    gauge,\r\n                    lockedNfts[i].token_id,\r\n                    rewardTokens\r\n                );\r\n\r\n                // Next, we unwind liquidity\r\n                IUniswapV3PositionsNFT nftManager = IUniswapV3PositionsNFT(\r\n                    0xC36442b4a4522E871399CD717aBDD847Ab11FE88\r\n                );\r\n\r\n                nftManager.decreaseLiquidity(\r\n                    IUniswapV3PositionsNFT.DecreaseLiquidityParams({\r\n                        tokenId: lockedNfts[i].token_id,\r\n                        liquidity: uint128(lockedNfts[i].liquidity),\r\n                        amount0Min: 0,\r\n                        amount1Min: 0,\r\n                        deadline: block.timestamp + 300\r\n                    })\r\n                );\r\n\r\n                nftManager.collect(\r\n                    IUniswapV3PositionsNFT.CollectParams({\r\n                        tokenId: lockedNfts[i].token_id,\r\n                        recipient: address(this),\r\n                        amount0Max: type(uint128).max,\r\n                        amount1Max: type(uint128).max\r\n                    })\r\n                );\r\n            }\r\n        }\r\n\r\n        IERC20(fxs).transfer(recipient, IERC20(fxs).balanceOf(address(this)));\r\n        IERC20(usdc).transfer(recipient, IERC20(usdc).balanceOf(address(this)));\r\n        IERC20(frax).transfer(recipient, IERC20(frax).balanceOf(address(this)));\r\n    }\r\n}", "ABI": "[{\"inputs\":[],\"name\":\"bail\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "BailLarryAssOut", "CompilerVersion": "v0.8.7+commit.e28d00a7", "OptimizationUsed": "0", "Runs": "200", "ConstructorArguments": "", "EVMVersion": "Default", "Library": "", "LicenseType": "MIT", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://22245769ab4f40afdd0078fad9bc3247623b93d280db7b8c9d6a9ed01df9fdc7"}]}