{"status": "1", "message": "OK", "result": [{"SourceCode": "// SPDX-License-Identifier: GPL-3.0\r\n\r\npragma solidity ^0.6.10;\r\npragma experimental ABIEncoderV2;\r\n\r\ninterface IComp {\r\n    function delegate(address delegatee) external;\r\n    function balanceOf(address account) external view returns (uint);\r\n    function transfer(address dst, uint rawAmount) external returns (bool);\r\n    function transferFrom(address src, address dst, uint rawAmount) external returns (bool);\r\n}\r\n\r\ninterface IGovernorAlpha {\r\n    function propose(address[] memory targets, uint[] memory values, string[] memory signatures, bytes[] memory calldatas, string memory description) external returns (uint);\r\n    function castVote(uint proposalId, bool support) external;\r\n}\r\n\r\n\r\ncontract CrowdProposal {\r\n    /// @notice The crowd proposal author\r\n    address payable public immutable author;\r\n\r\n    /// @notice Governance proposal data\r\n    address[] public targets;\r\n    uint[] public values;\r\n    string[] public signatures;\r\n    bytes[] public calldatas;\r\n    string public description;\r\n\r\n    /// @notice COMP token contract address\r\n    address public immutable comp;\r\n    /// @notice Compound protocol `GovernorAlpha` contract address\r\n    address public immutable governor;\r\n\r\n    /// @notice Governance proposal id\r\n    uint public govProposalId;\r\n    /// @notice Terminate flag\r\n    bool public terminated;\r\n\r\n    /// @notice An event emitted when the governance proposal is created\r\n    event CrowdProposalProposed(address indexed proposal, address indexed author, uint proposalId);\r\n    /// @notice An event emitted when the crowd proposal is terminated\r\n    event CrowdProposalTerminated(address indexed proposal, address indexed author);\r\n     /// @notice An event emitted when delegated votes are transfered to the governance proposal\r\n    event CrowdProposalVoted(address indexed proposal, uint proposalId);\r\n\r\n    /**\r\n    * @notice Construct crowd proposal\r\n    * @param author_ The crowd proposal author\r\n    * @param targets_ The ordered list of target addresses for calls to be made\r\n    * @param values_ The ordered list of values (i.e. msg.value) to be passed to the calls to be made\r\n    * @param signatures_ The ordered list of function signatures to be called\r\n    * @param calldatas_ The ordered list of calldata to be passed to each call\r\n    * @param description_ The block at which voting begins: holders must delegate their votes prior to this block\r\n    * @param comp_ `COMP` token contract address\r\n    * @param governor_ Compound protocol `GovernorAlpha` contract address\r\n    */\r\n    constructor(address payable author_,\r\n                address[] memory targets_,\r\n                uint[] memory values_,\r\n                string[] memory signatures_,\r\n                bytes[] memory calldatas_,\r\n                string memory description_,\r\n                address comp_,\r\n                address governor_) public {\r\n        author = author_;\r\n\r\n        // Save proposal data\r\n        targets = targets_;\r\n        values = values_;\r\n        signatures = signatures_;\r\n        calldatas = calldatas_;\r\n        description = description_;\r\n\r\n        // Save Compound contracts data\r\n        comp = comp_;\r\n        governor = governor_;\r\n\r\n        terminated = false;\r\n\r\n        // Delegate votes to the crowd proposal\r\n        IComp(comp_).delegate(address(this));\r\n    }\r\n\r\n    /// @notice Create governance proposal\r\n    function propose() external returns (uint) {\r\n        require(govProposalId == 0, 'CrowdProposal::propose: gov proposal already exists');\r\n        require(!terminated, 'CrowdProposal::propose: proposal has been terminated');\r\n\r\n        // Create governance proposal and save proposal id\r\n        govProposalId = IGovernorAlpha(governor).propose(targets, values, signatures, calldatas, description);\r\n        emit CrowdProposalProposed(address(this), author, govProposalId);\r\n\r\n        return govProposalId;\r\n    }\r\n\r\n    /// @notice Terminate the crowd proposal, send back staked COMP tokens\r\n    function terminate() external {\r\n        require(msg.sender == author, 'CrowdProposal::terminate: only author can terminate');\r\n        require(!terminated, 'CrowdProposal::terminate: proposal has been already terminated');\r\n\r\n        terminated = true;\r\n\r\n        // Transfer staked COMP tokens from the crowd proposal contract back to the author\r\n        IComp(comp).transfer(author, IComp(comp).balanceOf(address(this)));\r\n\r\n        emit CrowdProposalTerminated(address(this), author);\r\n    }\r\n\r\n    /// @notice Vote for the governance proposal with all delegated votes\r\n    function vote() external {\r\n        require(govProposalId > 0, 'CrowdProposal::vote: gov proposal has not been created yet');\r\n        IGovernorAlpha(governor).castVote(govProposalId, true);\r\n\r\n        emit CrowdProposalVoted(address(this), govProposalId);\r\n    }\r\n}\r\n\r\n\r\ncontract CrowdProposalFactory {\r\n    /// @notice `COMP` token contract address\r\n    address public immutable comp;\r\n    /// @notice Compound protocol `GovernorAlpha` contract address\r\n    address public immutable governor;\r\n    /// @notice Minimum Comp tokens required to create a crowd proposal\r\n    uint public immutable compStakeAmount;\r\n\r\n    /// @notice An event emitted when a crowd proposal is created\r\n    event CrowdProposalCreated(address indexed proposal, address indexed author, address[] targets, uint[] values, string[] signatures, bytes[] calldatas, string description);\r\n\r\n     /**\r\n     * @notice Construct a proposal factory for crowd proposals\r\n     * @param comp_ `COMP` token contract address\r\n     * @param governor_ Compound protocol `GovernorAlpha` contract address\r\n     * @param compStakeAmount_ The minimum amount of Comp tokes required for creation of a crowd proposal\r\n     */\r\n    constructor(address comp_,\r\n                address governor_,\r\n                uint compStakeAmount_) public {\r\n        comp = comp_;\r\n        governor = governor_;\r\n        compStakeAmount = compStakeAmount_;\r\n    }\r\n\r\n    /**\r\n    * @notice Create a new crowd proposal\r\n    * @notice Call `Comp.approve(factory_address, compStakeAmount)` before calling this method\r\n    * @param targets The ordered list of target addresses for calls to be made\r\n    * @param values The ordered list of values (i.e. msg.value) to be passed to the calls to be made\r\n    * @param signatures The ordered list of function signatures to be called\r\n    * @param calldatas The ordered list of calldata to be passed to each call\r\n    * @param description The block at which voting begins: holders must delegate their votes prior to this block\r\n    */\r\n    function createCrowdProposal(address[] memory targets,\r\n                                 uint[] memory values,\r\n                                 string[] memory signatures,\r\n                                 bytes[] memory calldatas,\r\n                                 string memory description) external {\r\n        CrowdProposal proposal = new CrowdProposal(msg.sender, targets, values, signatures, calldatas, description, comp, governor);\r\n        emit CrowdProposalCreated(address(proposal), msg.sender, targets, values, signatures, calldatas, description);\r\n\r\n        // Stake COMP and force proposal to delegate votes to itself\r\n        IComp(comp).transferFrom(msg.sender, address(proposal), compStakeAmount);\r\n    }\r\n}", "ABI": "[{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"author_\",\"type\":\"address\"},{\"internalType\":\"address[]\",\"name\":\"targets_\",\"type\":\"address[]\"},{\"internalType\":\"uint256[]\",\"name\":\"values_\",\"type\":\"uint256[]\"},{\"internalType\":\"string[]\",\"name\":\"signatures_\",\"type\":\"string[]\"},{\"internalType\":\"bytes[]\",\"name\":\"calldatas_\",\"type\":\"bytes[]\"},{\"internalType\":\"string\",\"name\":\"description_\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"comp_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"governor_\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"proposal\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"author\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"CrowdProposalProposed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"proposal\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"author\",\"type\":\"address\"}],\"name\":\"CrowdProposalTerminated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"proposal\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"proposalId\",\"type\":\"uint256\"}],\"name\":\"CrowdProposalVoted\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"author\",\"outputs\":[{\"internalType\":\"address payable\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"calldatas\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"comp\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"description\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"govProposalId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"propose\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"signatures\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"targets\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"terminate\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"terminated\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"values\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"vote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}]", "ContractName": "CrowdProposal", "CompilerVersion": "v0.6.10+commit.00c0fcaf", "OptimizationUsed": "1", "Runs": "200", "ConstructorArguments": "00000000000000000000000050d5587403f096dc1ad81164670046182a635221000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001e000000000000000000000000000000000000000000000000000000000000002c0000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000007e0000000000000000000000000c00e94cb662c3520282e6f5717214004a7f26888000000000000000000000000c0da01a04c3f3e0be433606045bb7017a7323e38000000000000000000000000000000000000000000000000000000000000000600000000000000000000000039aa39c021dfbae8fac545936693ac917d5e7563000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000003d9819210a31b4961b30ef54be2aed79b9c9cd3b0000000000000000000000003d9819210a31b4961b30ef54be2aed79b9c9cd3b0000000000000000000000006d903f6003cca6255d85cca4d3b5e5146dc33925000000000000000000000000c0da02939e1441f497fd74f78ce7decb17b665290000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000185f72656475636552657365727665732875696e7432353629000000000000000000000000000000000000000000000000000000000000000000000000000000197472616e7366657228616464726573732c75696e743235362900000000000000000000000000000000000000000000000000000000000000000000000000001b5f6772616e74436f6d7028616464726573732c75696e74323536290000000000000000000000000000000000000000000000000000000000000000000000001b5f6772616e74436f6d7028616464726573732c75696e74323536290000000000000000000000000000000000000000000000000000000000000000000000001873657450656e64696e6741646d696e286164647265737329000000000000000000000000000000000000000000000000000000000000000000000000000000125f696e6974696174652861646472657373290000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000649534e000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000b8a4a21fa50c469c610509efe803ddab17f9e8960000000000000000000000000000000000000000000000000000000649534e0000000000000000000000000000000000000000000000000000000000000000400000000000000000000000002b384212edc04ae8bb41738d05ba20e33277bf33000000000000000000000000000000000000000000000008ac7230489e800000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000027c79a01878962ce0b6126af6e184c06d36c8f37000000000000000000000000000000000000000000000004563918244f4000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c0da02939e1441f497fd74f78ce7decb17b665290000000000000000000000000000000000000000000000000000000000000020000000000000000000000000c0da01a04c3f3e0be433606045bb7017a7323e3800000000000000000000000000000000000000000000000000000000000007ce23204d6967726174696f6e20746f20476f7665726e6f7220427261766f0a23232320496e74726f64756374696f6e0a476f7665726e6f7220427261766f20686173206265656e206120636f6d6d756e697479206566666f727420666f7220746865207061737420666577206d6f6e74687320746f206272696e6720676f7665726e616e636520746f20746865206e6578742073746167652e20546869732070726f706f73616c207472616e736665727320436f6d706f756e6420676f7665726e616e636520746f20746865206e657720476f7665726e6f7220427261766f20636f6e74726163742e20496620746869732070726f706f73616c206973207375636365737366756c2c20616c6c2066757475726520436f6d706f756e6420676f7665726e616e63652063616c6c732073686f756c642062652073656e7420746f205b476f7665726e6f7220427261766f5d2868747470733a2f2f65746865727363616e2e696f2f616464726573732f307863306461303239333965313434316634393766643734663738636537646563623137623636353239292e0a0a2323232050726f706f73616c2043616c6c730a5468652066697273742074776f2063616c6c73207265696d627572736520436f6d706f756e64204c616273202432376b207468617420776173207061696420746f204f70656e205a657070656c696e20666f72207468652061756469742066726f6d207468652063555344432072657365727665732e2054686520666f6c6c6f77696e672074776f2063616c6c7320617761726420434f4d5020626f756e7469657320746f20417272303020616e6420426c75727220666f72206f7267616e697a696e6720616e6420657865637574696e672074686520476f7665726e6f7220427261766f2070726f6a6563742e2054686520666f6c6c6f77696e672063616c6c207365747320476f7665726e6f7220427261766f206173207468652070656e64696e672061646d696e2c20616e6420746865206c6173742063616c6c20696e6974696174657320476f7665726e6f7220427261766f2c20616363657074696e67207468652054696d656c6f636b2061646d696e2e0a0a23232320476f7665726e6f7220427261766f2044657461696c733a0a476f7665726e6f7220427261766f20686173206265656e20646576656c6f706564206279206d656d62657273206f662074686520636f6d6d756e69747920696e20746865206f70656e20666f7220746865207061737420666577206d6f6e7468732e20546865206e657720636f6e7472616374732068617665206265656e2066756c6c792061756469746564206279204f70656e205a657070656c696e2c206172652066756c6c7920636f766572656420627920657874656e736976652074657374207375697465732c2068617665206265656e2073696d756c6174656420627920666f726b696e672073696d756c6174696f6e732c20616e642068617665206265656e2072756e6e696e67206f6e20746865206b6f76616e20746573746e65742e200a0a546865206e65772066656174757265732061726520617320666f6c6c6f77733a0a2d2055706772616461626c6520696d706c656d656e746174696f6e200a2d205365747461626c6520706172616d6574657273202870726f706f73616c207468726573686f6c642c20766f74696e6720706572696f642c20766f74696e672064656c6179290a2d204162737461696e20766f7465206f7074696f6e0a2d204f7074696f6e616c20737472696e6720766f74696e6720726561736f6e0a2d2050726f706f7365722063616e20616c776179732063616e63656c2074686569722070726f706f73616c2028756e74696c20657865637574696f6e290a2d2052656d6f76616c206f662074686520677561726469616e0a2d20436f6e74696e756f75732070726f706f73616c206964206c6f6769630a0a232323232050533a0a546f2063656c6562726174652074686520616c706861732077686f20766f746564206f6e20476f7665726e6f7220416c7068612c2077652077696c6c2062652072656c656173696e672061206c696d697465642065646974696f6e20436f6d706f756e64204e465420636c61696d61626c6520627920616e796f6e652077686f20766f746564206d65616e696e6766756c6c79206f6e20476f7665726e6f7220416c706861207072696f7220746f20746869732070726f706f73616c206f6e636520476f7665726e6f7220427261766f20697320696e697469617465642e0a0a23232323205265666572656e6365733a0a446576656c6f706d656e7420666f72756d205b706f73745d2868747470733a2f2f7777772e636f6d702e78797a2f742f676f7665726e6f722d627261766f2d646576656c6f706d656e742f393432290a50726f706f73616c20666f72756d205b706f73745d2868747470733a2f2f7777772e636f6d702e78797a2f742f676f7665726e6f722d627261766f2d70726f706f73616c2f31333834290a5b4769746875622050525d2868747470733a2f2f6769746875622e636f6d2f636f6d706f756e642d66696e616e63652f636f6d706f756e642d70726f746f636f6c2f70756c6c2f3931290a5b4f70656e205a657070656c696e2041756469745d2868747470733a2f2f626c6f672e6f70656e7a657070656c696e2e636f6d2f636f6d706f756e642d676f7665726e6f722d627261766f2d61756469742f29000000000000000000000000000000000000", "EVMVersion": "Default", "Library": "", "LicenseType": "GNU GPLv3", "Proxy": "0", "Implementation": "", "SwarmSource": "ipfs://4949303609d8028a829949122056b9a200c4932c29d75e33f1267b68d0833693"}]}