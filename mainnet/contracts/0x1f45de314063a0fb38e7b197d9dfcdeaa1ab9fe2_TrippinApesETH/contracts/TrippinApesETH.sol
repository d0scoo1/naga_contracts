// SPDX-License-Identifier: MIT

// WE ARE BETTER, WE ARE ETH.

/* 
0% royalties, 0.0069 ETH per mint and the first 500 ARE FREE!!!!!!! 
We love ETH, we hate solana. Every mint = one less mint on solana.
3 mints per wallet no more degens
Fuck solana
We are better, we are stronger.

FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF    Fuck solana
uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu    Fuck solana
cccccccccccccccccccccccccccccccccccccccccccc    Fuck solana
kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk

ssssssssssssssssssssssssssssssssssssssssssss    Fuck solana
oooooooooooooooooooooooooooooooooooooooooooo    Fuck solana
llllllllllllllllllllllllllllllllllllllllllll    Fuck solana
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa    Fuck solana 
nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn    Fuck solana
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa    Fuck solana
*/ 




/*

 █     █░▓█████     ▄▄▄       ██▀███  ▓█████     ███▄    █  ▒█████  ▄▄▄█████▓   ▄▄▄█████▓ ██▀███   ██▓ ██▓███   ██▓███   ██▓ ███▄    █   ▄████     ▄▄▄       ██▓███  ▓█████   ██████ 
▓█░ █ ░█░▓█   ▀    ▒████▄    ▓██ ▒ ██▒▓█   ▀     ██ ▀█   █ ▒██▒  ██▒▓  ██▒ ▓▒   ▓  ██▒ ▓▒▓██ ▒ ██▒▓██▒▓██░  ██▒▓██░  ██▒▓██▒ ██ ▀█   █  ██▒ ▀█▒   ▒████▄    ▓██░  ██▒▓█   ▀ ▒██    ▒ 
▒█░ █ ░█ ▒███      ▒██  ▀█▄  ▓██ ░▄█ ▒▒███      ▓██  ▀█ ██▒▒██░  ██▒▒ ▓██░ ▒░   ▒ ▓██░ ▒░▓██ ░▄█ ▒▒██▒▓██░ ██▓▒▓██░ ██▓▒▒██▒▓██  ▀█ ██▒▒██░▄▄▄░   ▒██  ▀█▄  ▓██░ ██▓▒▒███   ░ ▓██▄   
░█░ █ ░█ ▒▓█  ▄    ░██▄▄▄▄██ ▒██▀▀█▄  ▒▓█  ▄    ▓██▒  ▐▌██▒▒██   ██░░ ▓██▓ ░    ░ ▓██▓ ░ ▒██▀▀█▄  ░██░▒██▄█▓▒ ▒▒██▄█▓▒ ▒░██░▓██▒  ▐▌██▒░▓█  ██▓   ░██▄▄▄▄██ ▒██▄█▓▒ ▒▒▓█  ▄   ▒   ██▒
░░██▒██▓ ░▒████▒    ▓█   ▓██▒░██▓ ▒██▒░▒████▒   ▒██░   ▓██░░ ████▓▒░  ▒██▒ ░      ▒██▒ ░ ░██▓ ▒██▒░██░▒██▒ ░  ░▒██▒ ░  ░░██░▒██░   ▓██░░▒▓███▀▒    ▓█   ▓██▒▒██▒ ░  ░░▒████▒▒██████▒▒
░ ▓░▒ ▒  ░░ ▒░ ░    ▒▒   ▓▒█░░ ▒▓ ░▒▓░░░ ▒░ ░   ░ ▒░   ▒ ▒ ░ ▒░▒░▒░   ▒ ░░        ▒ ░░   ░ ▒▓ ░▒▓░░▓  ▒▓▒░ ░  ░▒▓▒░ ░  ░░▓  ░ ▒░   ▒ ▒  ░▒   ▒     ▒▒   ▓▒█░▒▓▒░ ░  ░░░ ▒░ ░▒ ▒▓▒ ▒ ░
  ▒ ░ ░   ░ ░  ░     ▒   ▒▒ ░  ░▒ ░ ▒░ ░ ░  ░   ░ ░░   ░ ▒░  ░ ▒ ▒░     ░           ░      ░▒ ░ ▒░ ▒ ░░▒ ░     ░▒ ░      ▒ ░░ ░░   ░ ▒░  ░   ░      ▒   ▒▒ ░░▒ ░      ░ ░  ░░ ░▒  ░ ░
  ░   ░     ░        ░   ▒     ░░   ░    ░         ░   ░ ░ ░ ░ ░ ▒    ░           ░        ░░   ░  ▒ ░░░       ░░        ▒ ░   ░   ░ ░ ░ ░   ░      ░   ▒   ░░          ░   ░  ░  ░  
    ░       ░  ░         ░  ░   ░        ░  ░            ░     ░ ░                          ░      ░                     ░           ░       ░          ░  ░            ░  ░      ░  
                                                                                                                                                                                     
                                                                                                                                                                                     
                                                                                                                                                                                       ░     ░  ░           ░  ░   ░                         ░      ░                     ░           ░                ░  ░            ░  ░      ░  */

pragma solidity ^ 0.8 .9;

import "./ERC721A.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract TrippinApesETH is ERC721A, Ownable {
   using Strings
    for uint256;

    uint256 private constant maxSupply = 2222;
    uint256 public isPublicCost = 6900000000000000;
    uint256 public isMaxPublicSaleMints = 3;
    uint256 public isFree = 500; 
    string public BaseURI = "https://bafybeide55r45wbbketz6qequx62vtz5svu2r2p4wddugkuvxroydrnadq.ipfs.nftstorage.link/"; // Straight from the solana data LMAOOO but we are ETH, so we are better, copyright is ours.

    mapping(address=>uint256) public hasPublicMinted;

    constructor() ERC721A("Trippin Apes ETH", "TAE") { } 

    function TeamApeMint(uint256 _quantity) external onlyOwner {
        require(totalSupply() + _quantity <= maxSupply, "Trippin Apes ETH :: Exceeds total supply.");
        _safeMint(msg.sender, _quantity);
    }

    modifier transactionCheck(uint256 _quantity, uint256 hasMinted) {   
        uint toPay = isPublicCost;
        if(totalSupply() + _quantity <= isFree){
            toPay = 0;
        }
        require(msg.value == toPay *_quantity, "Trippin Apes ETH :: You're not paying the right amount of ETH!...");
        require(hasMinted + _quantity <= isMaxPublicSaleMints, "Trippin Apes ETH :: Max mints reached.");
        require(totalSupply() + _quantity <= maxSupply, "Trippin Apes ETH :: Mint finished; no more supply.");
        hasPublicMinted[msg.sender] +=  _quantity;
        _;
    }

    function mint(uint256 _quantity) external payable transactionCheck(_quantity, hasPublicMinted[msg.sender]){
        _safeMint(msg.sender, _quantity);
    }
    

    function tokenURI(uint256 _tokenId) public view virtual override returns(string memory) {
        require(_exists(_tokenId), "URI query for non-existent token");
        return string(abi.encodePacked(BaseURI, _tokenId.toString(), ".json"));
    }

    function _startTokenId() internal view virtual override(ERC721A) returns(uint256) {
        return 1;
    }

    function setFree(uint256 NewFreeQuantity) external onlyOwner {
        require(!(NewFreeQuantity <= isFree), "Trippin Apes ETH :: Must be more, cannot remove free quantity...");
        isFree = NewFreeQuantity;
    }
    function withdrawal() public onlyOwner {
        (bool t1, ) = payable(0x54a0448DC50cd8A12a744f969A5499f34dA8c18D).call {
            value: address(this).balance/100*50
        } ("");
        require(t1, "Trippin Apes ETH :: Cannot transact to the address...");
        (bool t2, ) = payable(0x71E55e60935248C097F277BAe376e49861fD5127).call {
            value: address(this).balance
        } ("");        
        require(t2, "Trippin Apes ETH :: Cannot transact to the address...");
    }
}