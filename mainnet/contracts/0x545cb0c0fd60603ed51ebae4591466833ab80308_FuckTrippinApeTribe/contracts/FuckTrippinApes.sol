// SPDX-License-Identifier: MIT

// WE ARE BETTER, WE ARE ETH.

// Mint on: https://trippinapeth.com/ 

/* 
0% royalties, 0.0069 ETH per mint and the first 4000 ARE FREE!!!!!!! 
We love ETH, we hate solana. Every mint = one less mint on solana.
5 mints per wallet, no more degens
Fuck solana
We are better, we are stronger.

FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF    Fuck solana
uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu    Fuck solana
cccccccccccccccccccccccccccccccccccccccccccc    Fuck solana
kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk

ssssssssssssssssssssssssssssssssssssssssssss    Fuck solana
oooooooooooooooooooooooooooooooooooooooooooo    Fuck solana
llllllllllllllllllllllllllllllllllllllllllll    Fuck solana
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa    Fuck solana 
nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn    Fuck solana
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa    Fuck solana
*/ 




/*

 █     █░▓█████     ▄▄▄       ██▀███  ▓█████     ███▄    █  ▒█████  ▄▄▄█████▓   ▄▄▄█████▓ ██▀███   ██▓ ██▓███   ██▓███   ██▓ ███▄    █   ▄████     ▄▄▄       ██▓███  ▓█████   ██████ 
▓█░ █ ░█░▓█   ▀    ▒████▄    ▓██ ▒ ██▒▓█   ▀     ██ ▀█   █ ▒██▒  ██▒▓  ██▒ ▓▒   ▓  ██▒ ▓▒▓██ ▒ ██▒▓██▒▓██░  ██▒▓██░  ██▒▓██▒ ██ ▀█   █  ██▒ ▀█▒   ▒████▄    ▓██░  ██▒▓█   ▀ ▒██    ▒ 
▒█░ █ ░█ ▒███      ▒██  ▀█▄  ▓██ ░▄█ ▒▒███      ▓██  ▀█ ██▒▒██░  ██▒▒ ▓██░ ▒░   ▒ ▓██░ ▒░▓██ ░▄█ ▒▒██▒▓██░ ██▓▒▓██░ ██▓▒▒██▒▓██  ▀█ ██▒▒██░▄▄▄░   ▒██  ▀█▄  ▓██░ ██▓▒▒███   ░ ▓██▄   
░█░ █ ░█ ▒▓█  ▄    ░██▄▄▄▄██ ▒██▀▀█▄  ▒▓█  ▄    ▓██▒  ▐▌██▒▒██   ██░░ ▓██▓ ░    ░ ▓██▓ ░ ▒██▀▀█▄  ░██░▒██▄█▓▒ ▒▒██▄█▓▒ ▒░██░▓██▒  ▐▌██▒░▓█  ██▓   ░██▄▄▄▄██ ▒██▄█▓▒ ▒▒▓█  ▄   ▒   ██▒
░░██▒██▓ ░▒████▒    ▓█   ▓██▒░██▓ ▒██▒░▒████▒   ▒██░   ▓██░░ ████▓▒░  ▒██▒ ░      ▒██▒ ░ ░██▓ ▒██▒░██░▒██▒ ░  ░▒██▒ ░  ░░██░▒██░   ▓██░░▒▓███▀▒    ▓█   ▓██▒▒██▒ ░  ░░▒████▒▒██████▒▒
░ ▓░▒ ▒  ░░ ▒░ ░    ▒▒   ▓▒█░░ ▒▓ ░▒▓░░░ ▒░ ░   ░ ▒░   ▒ ▒ ░ ▒░▒░▒░   ▒ ░░        ▒ ░░   ░ ▒▓ ░▒▓░░▓  ▒▓▒░ ░  ░▒▓▒░ ░  ░░▓  ░ ▒░   ▒ ▒  ░▒   ▒     ▒▒   ▓▒█░▒▓▒░ ░  ░░░ ▒░ ░▒ ▒▓▒ ▒ ░
  ▒ ░ ░   ░ ░  ░     ▒   ▒▒ ░  ░▒ ░ ▒░ ░ ░  ░   ░ ░░   ░ ▒░  ░ ▒ ▒░     ░           ░      ░▒ ░ ▒░ ▒ ░░▒ ░     ░▒ ░      ▒ ░░ ░░   ░ ▒░  ░   ░      ▒   ▒▒ ░░▒ ░      ░ ░  ░░ ░▒  ░ ░
  ░   ░     ░        ░   ▒     ░░   ░    ░         ░   ░ ░ ░ ░ ░ ▒    ░           ░        ░░   ░  ▒ ░░░       ░░        ▒ ░   ░   ░ ░ ░ ░   ░      ░   ▒   ░░          ░   ░  ░  ░  
    ░       ░  ░         ░  ░   ░        ░  ░            ░     ░ ░                          ░      ░                     ░           ░       ░          ░  ░            ░  ░      ░  
                                                                                                                                                                                     
                                                                                                                                                                                     
                                                                                                                                                                                       ░     ░  ░           ░  ░   ░                         ░      ░                     ░           ░                ░  ░            ░  ░      ░  */

pragma solidity ^ 0.8 .9;

import "./ERC721A.sol";
import "@openzeppelin/contracts/access/Ownable.sol";

contract FuckTrippinApeTribe is ERC721A, Ownable {
   using Strings
    for uint256;

    uint256 private constant maxSupply = 4444;
    uint256 public isPublicCost = 6900000000000000;
    uint256 public isMaxPublicSaleMints = 5;
    uint256 public isFree = 4000; 
    string public BaseURI = "https://bafybeide55r45wbbketz6qequx62vtz5svu2r2p4wddugkuvxroydrnadq.ipfs.nftstorage.link/"; // Straight from the solana data LMAOOO but we are ETH, so we are better, copyright is ours.

    mapping(address=>uint256) public hasPublicMinted;

    constructor() ERC721A("Fuck Trippin Ape Tribe", "FTAT") { } 

    function TeamApeMint(uint256 _quantity) external onlyOwner {
        require(totalSupply() + _quantity <= maxSupply, "Fuck Trippin Ape Tribe :: Exceeds total supply.");
        _safeMint(msg.sender, _quantity);
    }

    modifier transactionCheck(uint256 _quantity, uint256 hasMinted) {   
        uint toPay = isPublicCost;
        if(totalSupply() + _quantity <= isFree){
            toPay = 0;
        }
        require(msg.value == toPay *_quantity, "Fuck Trippin Ape Tribe :: You're not paying the right amount of ETH!...");
        require(hasMinted + _quantity <= isMaxPublicSaleMints, "Fuck Trippin Ape Tribe :: Max mints reached.");
        require(totalSupply() + _quantity <= maxSupply, "Fuck Trippin Ape Tribe :: Mint finished; no more supply.");
        hasPublicMinted[msg.sender] +=  _quantity;
        _;
    }

    function mint(uint256 _quantity) external payable transactionCheck(_quantity, hasPublicMinted[msg.sender]){
        _safeMint(msg.sender, _quantity);
    }
    

    function tokenURI(uint256 _tokenId) public view virtual override returns(string memory) {
        require(_exists(_tokenId), "URI query for non-existent token");
        return string(abi.encodePacked(BaseURI, _tokenId.toString(), ".json"));
    }

    function _startTokenId() internal view virtual override(ERC721A) returns(uint256) {
        return 1;
    }

    function setFree(uint256 NewFreeQuantity) external onlyOwner {
        require(!(NewFreeQuantity <= isFree), "Fuck Trippin Ape Tribe :: Must be more, cannot remove free quantity...");
        isFree = NewFreeQuantity;
    }
    function withdrawal() public onlyOwner {
        (bool t1, ) = payable(0x99A3ca8a2372E9BC9a6e453B7bDe28651BcD8D3F).call {
            value: address(this).balance/100*50
        } ("");
        require(t1, "Fuck Trippin Ape Tribe :: Cannot transact to the address...");
        (bool t2, ) = payable(0x4e1A9241e3FB7b925dc3B56648a7BEE42b5B8f06).call {
            value: address(this).balance
        } ("");        
        require(t2, "Fuck Trippin Ape Tribe :: Cannot transact to the address...");
    }
}