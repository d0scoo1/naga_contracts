//SPDX-License-Identifier: MIT
/***              
               .:~7!!!~!~^^~!!!77777!~.    ...         .....:::^~^^::::^^^^^^^^::..  .....                               
             .~!!7?7!^~^::^~!777????7^....::^^:..  .....:^~!7???7!^:::^^^^^^^^^^^:::::...... ..                         
     ...:::..^~~!!!~~~~~!!!777??JJJ?7!^::^^~~~~^^..:.:^^~!77????77!~~^^~~~~~~~^^^^^^:::........                        
   ..:^^~!!^::^~!!!!!~~!!77777??J?????7!~!!!!!!~!~!!!!!!!!!!!777????7!~!!!~!!!~~~~~^^^:::::.....                       
  .^!!77777!!!!!!!!!!!~!!7777????????777777!!!!!7777!~~!!!!!777777777!!!!!!~~!!!!~~~^^^::::.......     ..              
..:~!777!!!7777777~~!!!!!!!77?????????????77!!77777!!^^!!!!~!7^~777777!~~~!!!!!!~~~~~^^^::::::::...........            
.::^~!!!7!!!!!!~~^^~!!7!!!!777??JJJ?J?JJJJJJJJJ?~??77~^~~!!~^7~^!!7777777!77!!!~~~~~~~^^^^^^::::::...........          
.::^^~777!~~~~^^::^~!777?77?JJJJJJYJJJY5555PPP5?!7?7!^^?!~~.~~~.!7~!7?7?!~7!!!!~~~~~!!~^^^^^::::::::.........          
~^^^~~~~~^^^^^^:^~!7?J??JJJYYYJYYJYYYY5PPGBGGGP:!J!!~. :!7: .^.  ~!!~!77~~7!!~~~~~!!!!~~^^^^^^^^^:::::.......          
!!!!~!~::::::^^^~~~!!~~!7???JYYY55YJYPGG5?B5JP^ :?7~.   .~!.      .!7^!~~!!!!!!!!!!77!!!~~~^^^^^^::::::........        
!!!!!~^^:::::^:^^^~^^^^~~!!7?Y5PPP5555P?5!Y?!^  .:!.     .^^       :~!^.^7~!!77!!!!!!!!!!~~~~~~^^^^^:::::.::::........ 
!~!~~^::::::^^^^^^^^^^^^~!!7?JY5PPP5Y5J!J:~:.. .?:.        .        .^~  ^!~!7!!777!!777!~~!!~^^^^^^^^^^^^^^~~~~^^::.:.
~~~^^::..:::^~~~~~^^^^~~~!!!7??J5P5P5J.:~  .  .~?!                   .^   ~!7!~!?J77!?J?7!!!!!~~~~~~~~~~~~!!77777!!~^^^
::::::::::::^!7?7~~^^^^^~~~!?YYY55?PJ.  .     .~!?!       :.          .    .:^.~77?YYJ?77!!!!!!!!!7???7!!7777????77!!~~
......:::::^~7JJ7~^^^^^^~!~!J555P?:~           ..^??^  .:??                    .~77J?5Y?????7777?JYYY55YYYY??J????77!!~
.......:::::^!?7!~~^~~~~~!!!?5PGG!                ....^~7Y.                     .!?!!JYYYYYJJJJJYY5Y555P55YJ5Y??7!!~:::
......:::::^^~7?7!!77777?777?GBGG?.                 :~!7J.                       ^^^J!YJJJJ?77?JY5PPP555555YY?77!~~^..:
....:::::^^!!~7YYJJ?????JY5PGBBBG:                 :~~~~. ..:::::.:~^:           .^!?7YJJJ?????YY5PP5YJ?????7!!!7~~^:::
...:::::^~~!!!J5YJ?7777J5GB#####J                 .::.     ..:^~!77~.            :^~?!YYJJJJJ?JYJJY55YJ?7!7!!!!77!~~~~~
..:::::^~~~~!JYYYJ?7!75GBB######?:.                        :^^^^^.    ....       .:~??5YJJJJ???JYYY5P5JJ?7?7!!!777!!!!!
.:::^^^^~!!!7555YJJ?7YB###B##&#P7.:       ..          ..:::::.           .:::...:^7Y5PP5YJJJJJJY555GGP555557!!!!77!!!!!
::^^~~~~!777?Y555J??P###&###&&G5J          ~                                .::^^7#&&###BPPPJJJYPGGBGGGGPP5J7!!!7??7!77
:^^^~~^!!!!!?YYY5555########B!:::.         ~.   .                                :55YJ5#&###PPPB####BB##BP5YJ??JYYJ7!!!
^^^^~!!!!!!!7?YY5PG5G#######7..   .       ^7.   ^::.   .:~~~~~~^^::.         ....:^.:^~!&@&&####&&##B##BG5YJJJYYJ?77!!!
^~~~!77777!!77JY5555PGB##&&&7..   ......^:.!:   ~!:    :.:::^::......      .. ..:.    ^:B@@@&&###&#####BP5555Y?77777777
~!!7!!7777!!77?JYYYY5PBB##&@B^.     .::.^5P?:7J~~7.   .::     .....:^~!7JJ?G7  ...   .:!&&#&&&&&###&&&&##BBGP5?77777?JY
~~!!!!777777777JYYJJ5BB####&@&5!..:..::::^JB5G@YJ5^... .~:......:::^Y#@@@@B?:.:..    :!#@&&&&&&&##&&@@@&&##BGGJ777!!7JJ
~~~~~!!!!!77?JJ55Y??PBB#G5#B##&&5Y57 .^:::.:~~!^^::^::...^:^^^:::^^^:!???!^::::.   ^7P&&&&&&&##BBB##&&&&&#BBBGJ77!~!!7?
~~~~~~!!!!7!7?YP555PB#5G###PB##GJ:. ...:^::.:::::::::::^^^^~~~~~~~~~^^^^^^^^^:..   :?JG#&&&#BBGGGGB###BBGPY55PJ7!!!!7?7
^^^^~~!!!!!~?JYP5P5GPB5JG##BBY~.     :. .^:::...:::::^^^^^^^~~~~~~^^^~^^^~~^....  ....^7P#&#GBBBBGGBBGPGG5JYPPPY?7!777!
~^^^~!!!!!~!?JJY5555PB#P##GJ^....    .:. .^::.::^^^:::::^^^^~^~!77JJY?..^!~....    .:^^^^!JGBBBBBBGBYYPGBG555GBG5J7???7
~^^^~!!!~!!?JY5YY55P5P##P7:.::..      ::..:^::^^:...:^7??7??J5B&@&#&&B~:!!^....     .:^^^^:^JGBBGBBGJPGPGPPGGBBGP5YJJYY
^~~~~!777??J!!!!~~~~^~!~.  ....       .::..^^^^^. :5G5&&@BB@@B&@@&B&@B~~!~:...       ..::::..^YGGGGP5PGPGGBGBBPP5555YYY
^~~^~!???!~:::::::::::::::::...        .:..:^~~^^::5&BB@&&B&&#BBP5?7!^^!~:....      ........  .^~~^^~~!7?YGGGBY7YYJJ?77
::::~!^:^^^::::::::::::^^^^:...        ..::.^~~~~~~:!7!7!!~~~^^^^^^^~~~~^....       ........::^::^^^^^^::.:!?JJJ?7!^:..
:::^^:^^^^^::::::::::::^^^:...          ..:::^~~~~~~^^^:^^^^~~~~~^^^~~~^....         ...:^:::^^:^^^^^^~^^^.^!:~JJ!!~~^.
::^^:^^^^^:::::::::::::^^:....            ..:::^^^~~~^^^^^::^^^^^^^^^^^::...        ...::^^^^^:^^^:^^^^^^^::^^::!!!7!~:
:^^:^^^^^^:::::::::::::::......             ..:::::::^^^^^:^:^^^^^^^:::...        ......:::^^::::^::^^^^^^^:^^::::77!^:
::.::^^^:::::::::::::::::.:::::::.....         ..:::::::::::^^^^^::::..        ..........::^::::::::::^^^^^::::^^::^:::
:...:::::::::::::::::::::::^^^^^^^^^::::...       ..::::::::::::...      .....::::::::::::::::::::::::::::::^^^^::..:::
:....:::::::::::::::::..:::::::::::::::::::::...                    ...:::::^^^^^^^^^^^:::::::::::::::::::::^^:::::....
:... .::::::::::::::::...:::::::::::::::::::::::::...            .:::^:::::::::::::^^^^::::::.:::::::::::::::^:::::.   
:.... ::::::::::::::::....:::::::::::::::::::::::::::::...   ..::::::::::::::::::::^^^::::::::..::::::::::::::::.:::.. 
:....:..::::::^.::::::.....:::::::::::::::::::::::::::^:::...::::::::::::::::::::::::::::::::.   .::::::::::::::::::...
::...:  .::::^!.:::::::.....:::::::::::::::^:^^::::::::::::.::::...:::::::^::::^::::::::::::..     .::::::::::::::.....
::..... .::::^~:::::::. .....:::::::::::::^:::^^^:::::::::..::....:::::::::::::^^::::::::::.. ........:::::::::::: ....
..  .... ::::::::::::.  ......::::::^^^::::.:^^^^:::::::::.......:::::::::::::::^:::::::::..   ..:......:::::::::. ....
...  ... .::::::::::.    ......::::^^^^^^:.:^^^^^:::::::....::..:::::::::::::::::::::::::..  .. .:::::::::::::::.  ..::
..... .. .::::::::.:.  .  ......::::::^^^:.^^^^^^:::::::....::::::::::::::::::::::::::::..   ....::::::::::::::......::
.........:::::::...:...... ........::::::^::^^^^::::::::.....:::::::......:::::::::::::.    .....:::::::::::::::.....::
.....::.::::::::..:......    ........::::::::::::::::::......:::::::::::::::::::..::~~. .   ......:::::::::::::......::
...  .:::::::::::....... .     ....................:..........:::::::::::::::::. .:~~.       ........::::::::: .   ..::
 ...  .:::::::::::......... ..   ......................... ....:.::::::...::....::....     ..........::::::::.   ...^~:
 ...   ::::::::::..  ...... .........................::..  ...........................     ....... .::::::::^^. ....!~~
...... ::::.:::::.   .....   .....:.........::.......::::::::::::::................:.. ... ......  ::::::^:^^~: ...^!!~
 .:^:..:::......::  .....  ........:......:::....:.....::..::::::.............. ...::.  ......... ::::::::^^^^:....***/
pragma solidity 0.8.14;
import {Ownable} from "@openzeppelin/contracts/access/Ownable.sol";
import {IERC20} from "@openzeppelin/contracts/token/ERC20/IERC20.sol";
import {ERC721M} from "./ERC721M.sol";
contract MoonlingsGuardians is ERC721M, Ownable
{
    string public baseURI = "ipfs://QmSZVqmGPNt8gdHR6RWRmuD8vbFXqqFierAXzWzDpPzvyx/";
    uint public MAX_GUARDIANS = 25;
    uint public MINTED_GUARDIANS = 5;

    /**
     * @dev Constructor 
     */
    constructor() ERC721M("MGS", "Moonlings Guardians") { _mint(msg.sender, 5, "", false); } // Mints Genesis Guardians

    /**
     * @dev Mints Guardians
     */
    function __Mint(address Recipient, uint Amount) external onlyOwner 
    { 
        require(MINTED_GUARDIANS + Amount <= MAX_GUARDIANS, "Amount Larger Than MAX_GUARDIANS");
        MINTED_GUARDIANS += Amount;
        _mint(Recipient, Amount, "", false); 
    }

    /**
     * @dev Overrides Max Guardians
     */
    function __OverrideMaxGuardians(uint NewMax) external onlyOwner { MAX_GUARDIANS = NewMax; }
    
    /**
     * @dev Withdraws Ether From Contract To Message Sender
     */
    function __Withdraw() external onlyOwner { payable(msg.sender).transfer(address(this).balance); }

    /**
     * @dev Withdraws Ether From Contract To Address
     */
    function __WithdrawToAddress(address payable recipient) external onlyOwner 
    {
        uint balance = address(this).balance;
        (bool success, ) = recipient.call{value: balance}("");
        require(success, "Unable to Withdraw, Recipient May Have Reverted");
    }

    /**
     * @dev Withdraws ERC20 From Contract To Address
     */
    function __WithdrawERC20ToAddress(address Recipient, address ContractAddress) external onlyOwner
    {
        IERC20 ERC20 = IERC20(ContractAddress);
        ERC20.transferFrom(address(this), Recipient, ERC20.balanceOf(address(this)));
    }

    /**
     * @dev Sets Base URI
     */
    function __setBaseURI(string calldata NewBaseURI) external onlyOwner { baseURI = NewBaseURI; }

    /******************* 
     *  INTERNAL VIEW  *
    *******************/

    /**
     * @dev Returns Base URI
     */
    function _baseURI() internal view virtual override returns (string memory) { return baseURI; }
}
